# Analyse Co√ªt Tier 1 Gemini - Usage Complet JARVIS 2.0

**Date** : 22 f√©vrier 2026  
**Objectif** : Chiffrer le co√ªt r√©el d'un passage complet en Tier 1 Gemini  
**P√©rim√®tre** : Usage production + tests + d√©veloppement

---

## üìä Analyse Usage Actuel

### Tests Live Effectu√©s (Aujourd'hui)

| Test | Requ√™tes | Input Tokens | Output Tokens | Dur√©e |
|------|----------|--------------|---------------|-------|
| **Calculatrice** | ~5 | ~15,000 | ~6,000 | 2min 13s |
| **TODO** (estim√©) | ~7 | ~25,000 | ~10,000 | ~3min |
| **MiniBlog** (estim√©) | ~6 | ~20,000 | ~8,000 | ~3min |
| **TOTAL** | ~18 | ~60,000 | ~24,000 | ~8min |

**Observation** : 18 requ√™tes pour 3 projets = **6 requ√™tes/projet en moyenne**

---

## üí∞ Tarification Gemini API Tier 1

### Mod√®les Disponibles (Tier 1)

| Mod√®le | Input ($/1M tokens) | Output ($/1M tokens) | Contexte | RPM | RPD |
|--------|---------------------|----------------------|----------|-----|-----|
| **Gemini 2.0 Flash** | $0.075 | $0.30 | 1M | 10 | 100 |
| **Gemini 1.5 Flash** | $0.075 | $0.30 | 1M | 10 | 100 |
| **Gemini 1.5 Pro** | $1.25 | $5.00 | 2M | 5 | 50 |
| **Gemini 3 Flash** | $0.075 | $0.30 | 1M | 10 | 100 |

**Source** : https://ai.google.dev/pricing

---

## üßÆ Calcul Co√ªt par Projet

### Projet Simple (Calculatrice)

**Tokens utilis√©s** :
- Input : ~15,000 tokens
- Output : ~6,000 tokens

**Co√ªt avec Gemini 2.0 Flash** :
```
Input  : 15,000 √ó $0.075 / 1,000,000 = $0.001125
Output : 6,000 √ó $0.30 / 1,000,000   = $0.001800
TOTAL  : $0.002925 ‚âà $0.003 (0.3 centime)
```

---

### Projet Moyen (TODO)

**Tokens estim√©s** :
- Input : ~25,000 tokens
- Output : ~10,000 tokens

**Co√ªt avec Gemini 2.0 Flash** :
```
Input  : 25,000 √ó $0.075 / 1,000,000 = $0.001875
Output : 10,000 √ó $0.30 / 1,000,000  = $0.003000
TOTAL  : $0.004875 ‚âà $0.005 (0.5 centime)
```

---

### Projet Complexe (MiniBlog)

**Tokens estim√©s** :
- Input : ~20,000 tokens
- Output : ~8,000 tokens

**Co√ªt avec Gemini 2.0 Flash** :
```
Input  : 20,000 √ó $0.075 / 1,000,000 = $0.001500
Output : 8,000 √ó $0.30 / 1,000,000   = $0.002400
TOTAL  : $0.003900 ‚âà $0.004 (0.4 centime)
```

---

## üìà Projections Usage Mensuel

### Sc√©nario 1 : Usage L√©ger (10 projets/mois)

**R√©partition** :
- 5 projets simples √ó $0.003 = $0.015
- 3 projets moyens √ó $0.005 = $0.015
- 2 projets complexes √ó $0.004 = $0.008

**Co√ªt mensuel** : **$0.038 ‚âà $0.04** (4 centimes/mois)

---

### Sc√©nario 2 : Usage Mod√©r√© (50 projets/mois)

**R√©partition** :
- 25 projets simples √ó $0.003 = $0.075
- 15 projets moyens √ó $0.005 = $0.075
- 10 projets complexes √ó $0.004 = $0.040

**Co√ªt mensuel** : **$0.19 ‚âà $0.20** (20 centimes/mois)

---

### Sc√©nario 3 : Usage Intensif (200 projets/mois)

**R√©partition** :
- 100 projets simples √ó $0.003 = $0.30
- 60 projets moyens √ó $0.005 = $0.30
- 40 projets complexes √ó $0.004 = $0.16

**Co√ªt mensuel** : **$0.76 ‚âà $0.80** (80 centimes/mois)

---

### Sc√©nario 4 : Usage Professionnel (500 projets/mois)

**R√©partition** :
- 250 projets simples √ó $0.003 = $0.75
- 150 projets moyens √ó $0.005 = $0.75
- 100 projets complexes √ó $0.004 = $0.40

**Co√ªt mensuel** : **$1.90 ‚âà $2.00** (2‚Ç¨/mois)

---

## üÜö Comparaison Tier 1 vs Free vs OpenRouter

### Tableau Comparatif

| Crit√®re | Free Tier | Tier 1 Gemini | OpenRouter |
|---------|-----------|---------------|------------|
| **Co√ªt/mois (50 projets)** | 0‚Ç¨ | $0.20 | $5-$10 |
| **Co√ªt/mois (200 projets)** | ‚ùå Impossible | $0.80 | $20-$40 |
| **RPM** | 5 | 10-15 | Illimit√© |
| **RPD** | 20 | 100 | Illimit√© |
| **Contexte max** | 1M tokens | 2M tokens (Pro) | 200K (Claude) |
| **Qualit√© code** | Bonne | Bonne | Excellente |
| **Mod√®les disponibles** | 2 (Flash, Robotics) | 10+ | 50+ |
| **Batch API** | ‚ùå Non | ‚úÖ Oui | ‚ùå Non |

---

## üéØ Nouveaux Mod√®les Accessibles (Tier 1)

### Mod√®les Flash (Rapides et √âconomiques)

| Mod√®le | Co√ªt Input | Co√ªt Output | Contexte | Usage Recommand√© |
|--------|------------|-------------|----------|------------------|
| **Gemini 2.0 Flash** | $0.075/1M | $0.30/1M | 1M | JARVIS_Ma√Ætre, CODEUR, BASE |
| **Gemini 1.5 Flash** | $0.075/1M | $0.30/1M | 1M | Alternative Flash |
| **Gemini 3 Flash** | $0.075/1M | $0.30/1M | 1M | Preview features |

---

### Mod√®les Pro (Qualit√© Maximale)

| Mod√®le | Co√ªt Input | Co√ªt Output | Contexte | Usage Recommand√© |
|--------|------------|-------------|----------|------------------|
| **Gemini 1.5 Pro** | $1.25/1M | $5.00/1M | 2M | VALIDATEUR (projets critiques) |
| **Gemini 2.5 Pro** | $1.25/1M | $5.00/1M | 2M | Projets complexes |

**Note** : Mod√®les Pro = **17x plus chers** que Flash, r√©server pour cas critiques uniquement.

---

### Mod√®les Sp√©cialis√©s

| Mod√®le | Co√ªt | Contexte | Sp√©cialit√© |
|--------|------|----------|-----------|
| **Gemini Robotics ER 1.5** | $0.075/1M | 1M | Contr√¥le qualit√©, d√©tection bugs |
| **Gemini Computer Use** | Variable | 131K | Automatisation UI |
| **Gemini Deep Research** | Variable | 131K | Recherche approfondie |

---

## üîß Configuration Optimale Tier 1

### Option A : 100% Flash (√âconomique) ‚≠ê RECOMMAND√â

```env
DEFAULT_PROVIDER=gemini

# Tous les agents sur Flash (rapide + √©conomique)
JARVIS_MAITRE_PROVIDER=gemini
JARVIS_MAITRE_MODEL=gemini-2.0-flash

CODEUR_PROVIDER=gemini
CODEUR_MODEL=gemini-2.0-flash

BASE_PROVIDER=gemini
BASE_MODEL=gemini-2.0-flash

VALIDATEUR_PROVIDER=gemini
VALIDATEUR_MODEL=gemini-robotics-er-1.5-preview
```

**Co√ªt estim√©** : $0.20/mois (50 projets)  
**Quotas** : 100 RPD, 10 RPM  
**Qualit√©** : Bonne

---

### Option B : Flash + Pro (Qualit√© Maximale)

```env
DEFAULT_PROVIDER=gemini

# Orchestration rapide
JARVIS_MAITRE_PROVIDER=gemini
JARVIS_MAITRE_MODEL=gemini-2.0-flash

# G√©n√©ration code qualit√© maximale
CODEUR_PROVIDER=gemini
CODEUR_MODEL=gemini-1.5-pro

# Validation rapide
BASE_PROVIDER=gemini
BASE_MODEL=gemini-2.0-flash

# Contr√¥le qualit√© approfondi
VALIDATEUR_PROVIDER=gemini
VALIDATEUR_MODEL=gemini-1.5-pro
```

**Co√ªt estim√©** : $1.50/mois (50 projets)  
**Quotas** : 50 RPD (Pro), 100 RPD (Flash)  
**Qualit√©** : Excellente

---

### Option C : Hybride Tier 1 + OpenRouter (Production)

```env
# Orchestration Gemini (√©conomique)
JARVIS_MAITRE_PROVIDER=gemini
JARVIS_MAITRE_MODEL=gemini-2.0-flash

# Workers OpenRouter (qualit√© maximale)
CODEUR_PROVIDER=openrouter
CODEUR_MODEL=anthropic/claude-3.5-sonnet

BASE_PROVIDER=openrouter
BASE_MODEL=anthropic/claude-3.5-sonnet

VALIDATEUR_PROVIDER=gemini
VALIDATEUR_MODEL=gemini-1.5-pro
```

**Co√ªt estim√©** : $5-$7/mois (50 projets)  
**Quotas** : Illimit√©s (OpenRouter)  
**Qualit√©** : Maximale (Claude)

---

## üìä Tableau R√©capitulatif Co√ªts

### Par Sc√©nario d'Usage

| Usage | Projets/mois | Free Tier | Tier 1 Flash | Tier 1 Pro | OpenRouter |
|-------|--------------|-----------|--------------|------------|------------|
| **L√©ger** | 10 | ‚úÖ 0‚Ç¨ | $0.04 | $0.20 | $2-$5 |
| **Mod√©r√©** | 50 | ‚ùå Impossible | $0.20 | $1.50 | $10-$15 |
| **Intensif** | 200 | ‚ùå Impossible | $0.80 | $6.00 | $40-$60 |
| **Pro** | 500 | ‚ùå Impossible | $2.00 | $15.00 | $100-$150 |

---

## üí° Avantages Tier 1 au-del√† du Co√ªt

### 1. Quotas Augment√©s

**Free Tier** :
- 5 RPM ‚Üí D√©lai 12s entre requ√™tes
- 20 RPD ‚Üí Max 20 projets/jour

**Tier 1** :
- 10-15 RPM ‚Üí D√©lai 4-6s entre requ√™tes
- 100 RPD ‚Üí Max 100 projets/jour

**Impact** : Tests live complets possibles en 1 journ√©e

---

### 2. Acc√®s Batch API

**Batch API** = Traitement asynchrone de multiples requ√™tes

**Quotas Batch (Tier 1)** :
- 100 requ√™tes concurrentes
- 3M tokens enqueued (Gemini 3 Flash)
- 10M tokens enqueued (Gemini 2.0 Flash)

**Cas d'usage** :
- G√©n√©ration de 10 projets en parall√®le
- Validation de 50 fichiers simultan√©ment
- Refactorisation massive de codebase

---

### 3. Mod√®les Avanc√©s

**Free Tier** : 2 mod√®les (gemini-3-flash-preview, gemini-robotics-er-1.5-preview)

**Tier 1** : 10+ mod√®les
- Gemini 2.0 Flash (derni√®re version)
- Gemini 1.5 Pro (contexte 2M tokens)
- Gemini 2.5 Pro (qualit√© maximale)
- Gemini Computer Use (automatisation)
- Gemini Deep Research (recherche)

---

### 4. Contexte √âtendu

**Free Tier** : 1M tokens max

**Tier 1 Pro** : 2M tokens max

**Impact** :
- Projets plus complexes analysables
- Plus de fichiers lus simultan√©ment
- Historique conversation plus long

---

## üéØ Recommandation Finale

### Pour Ton Usage (JARVIS 2.0)

**Profil estim√©** :
- D√©veloppement actif : 20-50 projets/mois
- Tests r√©guliers : 10-20 projets/mois
- Production future : 50-200 projets/mois

**Configuration recommand√©e** : **Option A - 100% Flash Tier 1**

**Raisons** :
1. **Co√ªt minimal** : $0.20-$0.80/mois (quasi-gratuit)
2. **Quotas confortables** : 100 RPD, 10 RPM
3. **Qualit√© suffisante** : Gemini Flash = bonne qualit√© code
4. **√âvolutif** : Passage Pro facile si besoin
5. **Batch API** : Possibilit√© parall√©lisation future

---

## üìã Plan de Migration

### √âtape 1 : Activation Tier 1

1. Aller sur https://aistudio.google.com/app/apikey
2. Cliquer "Upgrade to Tier 1"
3. Lier compte de facturation Google Cloud
4. Configurer alerte d√©pense : $5/mois max

**Dur√©e** : 5-10 minutes

---

### √âtape 2 : Mise √† Jour Configuration

**Fichier** : `.env`

```env
# Provider par d√©faut
DEFAULT_PROVIDER=gemini

# Providers sp√©cifiques par agent
JARVIS_MAITRE_PROVIDER=gemini
CODEUR_PROVIDER=gemini
BASE_PROVIDER=gemini
VALIDATEUR_PROVIDER=gemini

# Mod√®les Gemini Tier 1 optimis√©s
GEMINI_MODEL=gemini-2.0-flash
JARVIS_MAITRE_MODEL=gemini-2.0-flash
CODEUR_MODEL=gemini-2.0-flash
BASE_MODEL=gemini-2.0-flash
VALIDATEUR_MODEL=gemini-robotics-er-1.5-preview

# Cl√© API Gemini (inchang√©e)
GEMINI_API_KEY=<votre_cl√©>
```

**Dur√©e** : 1 minute

---

### √âtape 3 : Tests de Validation

```bash
# Nettoyer environnement
Remove-Item -Path "D:\Coding\TEST\*" -Recurse -Force
Remove-Item -Path "jarvis_data.db" -Force

# Lancer suite compl√®te tests live
pytest tests/live/test_live_projects.py -v

# V√©rifier co√ªt
# Aller sur https://console.cloud.google.com/billing
```

**Dur√©e** : 10-15 minutes

---

### √âtape 4 : Monitoring Co√ªt

**Outils** :
- Console Google Cloud : https://console.cloud.google.com/billing
- AI Studio Rate Limits : https://aistudio.google.com/rate-limit
- Logs backend : `backend/logs/mistral_api.log`

**Fr√©quence** : Hebdomadaire (1er mois), puis mensuelle

---

## üîí S√©curit√© Financi√®re

### Alertes Recommand√©es

1. **Alerte $1** : Notification email si d√©passement
2. **Alerte $5** : Notification urgente
3. **Limite $10** : Blocage automatique (optionnel)

**Configuration** : https://console.cloud.google.com/billing/budgets

---

### Cr√©dits Google Cloud

**Nouveaux comptes** : $200 de cr√©dits gratuits (90 jours)

**Impact** :
- $200 de cr√©dits = ~40,000 projets JARVIS
- Largement suffisant pour tester Tier 1 gratuitement

---

## üìä Conclusion Chiffr√©e

### Co√ªt R√©el Tier 1 Gemini pour JARVIS 2.0

| Sc√©nario | Projets/mois | Co√ªt/mois | Co√ªt/projet |
|----------|--------------|-----------|-------------|
| **D√©veloppement** | 50 | $0.20 | $0.004 |
| **Production l√©g√®re** | 200 | $0.80 | $0.004 |
| **Production intensive** | 500 | $2.00 | $0.004 |

**Co√ªt moyen par projet** : **0.4 centime** (constant)

---

### Comparaison Finale

**Pour 200 projets/mois** :

| Solution | Co√ªt | Quotas | Qualit√© |
|----------|------|--------|---------|
| **Free Tier** | 0‚Ç¨ | ‚ùå Insuffisant (20 RPD) | Bonne |
| **Tier 1 Flash** | $0.80 | ‚úÖ Confortable (100 RPD) | Bonne |
| **Tier 1 Pro** | $6.00 | ‚úÖ Confortable (50 RPD) | Excellente |
| **OpenRouter** | $40 | ‚úÖ Illimit√© | Excellente |

**Meilleur rapport qualit√©/prix** : **Tier 1 Flash** ($0.80/mois)

---

**Date** : 22 f√©vrier 2026  
**Recommandation** : Activer Tier 1 Gemini avec configuration 100% Flash  
**Co√ªt estim√©** : $0.20-$2.00/mois selon usage
