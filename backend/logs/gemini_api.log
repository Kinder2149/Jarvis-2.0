2026-02-22 17:26:42 - root - INFO - Logging configuré : backend/logs/gemini_api.log
2026-02-22 17:26:42 - backend.ia.providers.provider_factory - DEBUG - Provider cache cleared
2026-02-22 17:26:42 - backend.app - INFO - Provider cache cleared - configuration rechargée depuis .env
2026-02-22 17:26:42 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x0000018170500540>
2026-02-22 17:26:42 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x0000018170500540> completed
2026-02-22 17:26:42 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000018170402B60>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 17:26:42 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000018170402B60>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 17:26:42 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x0000018170402B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 17:26:42 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x0000018170402B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 17:26:42 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000018170402B60>)
2026-02-22 17:26:42 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000018170402B60>) completed
2026-02-22 17:26:42 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000018170402B60>)
2026-02-22 17:26:42 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000018170402B60>) completed
2026-02-22 17:26:51 - root - INFO - Logging configuré : backend/logs/gemini_api.log
2026-02-22 17:26:51 - backend.ia.providers.provider_factory - DEBUG - Provider cache cleared
2026-02-22 17:26:51 - backend.app - INFO - Provider cache cleared - configuration rechargée depuis .env
2026-02-22 17:26:51 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001C5FAA60540>
2026-02-22 17:26:51 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001C5FAA60540> completed
2026-02-22 17:26:51 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C5FA962B60>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 17:26:51 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001C5FA962B60>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 17:26:51 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000001C5FA962B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 17:26:51 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000001C5FA962B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 17:26:51 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001C5FA962B60>)
2026-02-22 17:26:51 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001C5FA962B60>) completed
2026-02-22 17:26:51 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001C5FA962B60>)
2026-02-22 17:26:51 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001C5FA962B60>) completed
2026-02-22 17:27:00 - root - INFO - Logging configuré : backend/logs/gemini_api.log
2026-02-22 17:27:00 - backend.ia.providers.provider_factory - DEBUG - Provider cache cleared
2026-02-22 17:27:00 - backend.app - INFO - Provider cache cleared - configuration rechargée depuis .env
2026-02-22 17:27:00 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002104F790540>
2026-02-22 17:27:00 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002104F790540> completed
2026-02-22 17:27:00 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002104F692B60>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 17:27:00 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002104F692B60>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 17:27:00 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000002104F692B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 17:27:00 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000002104F692B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 17:27:00 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002104F692B60>)
2026-02-22 17:27:00 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002104F692B60>) completed
2026-02-22 17:27:00 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002104F692B60>)
2026-02-22 17:27:00 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002104F692B60>) completed
2026-02-22 17:27:09 - root - INFO - Logging configuré : backend/logs/gemini_api.log
2026-02-22 17:27:09 - backend.ia.providers.provider_factory - DEBUG - Provider cache cleared
2026-02-22 17:27:09 - backend.app - INFO - Provider cache cleared - configuration rechargée depuis .env
2026-02-22 17:27:09 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002AC19FE0540>
2026-02-22 17:27:09 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002AC19FE0540> completed
2026-02-22 17:27:09 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002AC19EE2B60>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 17:27:09 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002AC19EE2B60>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 17:27:09 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000002AC19EE2B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 17:27:09 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000002AC19EE2B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 17:27:09 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002AC19EE2B60>)
2026-02-22 17:27:09 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002AC19EE2B60>) completed
2026-02-22 17:27:09 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002AC19EE2B60>)
2026-02-22 17:27:09 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002AC19EE2B60>) completed
2026-02-22 17:28:40 - root - INFO - Logging configuré : backend/logs/gemini_api.log
2026-02-22 17:29:00 - root - INFO - Logging configuré : backend/logs/gemini_api.log
2026-02-22 17:29:00 - backend.ia.providers.provider_factory - DEBUG - Provider cache cleared
2026-02-22 17:29:00 - backend.app - INFO - Provider cache cleared - configuration rechargée depuis .env
2026-02-22 17:29:00 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001987A0E0540>
2026-02-22 17:29:00 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001987A0E0540> completed
2026-02-22 17:29:00 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000019879FE2B60>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 17:29:00 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000019879FE2B60>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 17:29:00 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x0000019879FE2B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 17:29:00 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x0000019879FE2B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 17:29:00 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000019879FE2B60>)
2026-02-22 17:29:00 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000019879FE2B60>) completed
2026-02-22 17:29:00 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000019879FE2B60>)
2026-02-22 17:29:00 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000019879FE2B60>) completed
2026-02-22 17:29:30 - root - INFO - Logging configuré : backend/logs/gemini_api.log
2026-02-22 17:29:30 - backend.ia.providers.provider_factory - DEBUG - Provider cache cleared
2026-02-22 17:29:30 - backend.app - INFO - Provider cache cleared - configuration rechargée depuis .env
2026-02-22 17:29:30 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001A9A5430540>
2026-02-22 17:29:30 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001A9A5430540> completed
2026-02-22 17:29:30 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001A9A5332B60>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 17:29:30 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001A9A5332B60>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 17:29:30 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000001A9A5332B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 17:29:30 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000001A9A5332B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 17:29:30 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001A9A5332B60>)
2026-02-22 17:29:30 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001A9A5332B60>) completed
2026-02-22 17:29:30 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001A9A5332B60>)
2026-02-22 17:29:30 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001A9A5332B60>) completed
2026-02-22 17:29:46 - root - INFO - Logging configuré : backend/logs/gemini_api.log
2026-02-22 17:29:46 - backend.ia.providers.provider_factory - DEBUG - Provider cache cleared
2026-02-22 17:29:46 - backend.app - INFO - Provider cache cleared - configuration rechargée depuis .env
2026-02-22 17:29:46 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000297173C0540>
2026-02-22 17:29:46 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000297173C0540> completed
2026-02-22 17:29:46 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x00000297172C2B60>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 17:29:46 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x00000297172C2B60>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 17:29:46 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x00000297172C2B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 17:29:46 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x00000297172C2B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 17:29:46 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000297172C2B60>)
2026-02-22 17:29:46 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000297172C2B60>) completed
2026-02-22 17:29:46 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000297172C2B60>)
2026-02-22 17:29:46 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000297172C2B60>) completed
2026-02-22 17:30:13 - root - INFO - Logging configuré : backend/logs/gemini_api.log
2026-02-22 17:30:13 - backend.ia.providers.provider_factory - DEBUG - Provider cache cleared
2026-02-22 17:30:13 - backend.app - INFO - Provider cache cleared - configuration rechargée depuis .env
2026-02-22 17:30:13 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x0000024CA1F70540>
2026-02-22 17:30:13 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x0000024CA1F70540> completed
2026-02-22 17:30:13 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000024CA1E72B60>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 17:30:13 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000024CA1E72B60>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 17:30:13 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x0000024CA1E72B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 17:30:13 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x0000024CA1E72B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 17:30:13 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000024CA1E72B60>)
2026-02-22 17:30:13 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000024CA1E72B60>) completed
2026-02-22 17:30:13 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000024CA1E72B60>)
2026-02-22 17:30:13 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000024CA1E72B60>) completed
2026-02-22 17:30:32 - root - INFO - Logging configuré : backend/logs/gemini_api.log
2026-02-22 17:30:32 - backend.ia.providers.provider_factory - DEBUG - Provider cache cleared
2026-02-22 17:30:32 - backend.app - INFO - Provider cache cleared - configuration rechargée depuis .env
2026-02-22 17:30:32 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000217EF270540>
2026-02-22 17:30:32 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000217EF270540> completed
2026-02-22 17:30:32 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x00000217EF172B60>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 17:30:32 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x00000217EF172B60>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 17:30:32 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x00000217EF172B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 17:30:32 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x00000217EF172B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 17:30:32 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000217EF172B60>)
2026-02-22 17:30:32 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000217EF172B60>) completed
2026-02-22 17:30:32 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000217EF172B60>)
2026-02-22 17:30:32 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000217EF172B60>) completed
2026-02-22 17:38:01 - root - INFO - Logging configuré : backend/logs/gemini_api.log
2026-02-22 17:38:01 - backend.ia.providers.provider_factory - DEBUG - Provider cache cleared
2026-02-22 17:38:01 - backend.app - INFO - Provider cache cleared - configuration rechargée depuis .env
2026-02-22 17:38:01 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000264F1140540>
2026-02-22 17:38:01 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000264F1140540> completed
2026-02-22 17:38:01 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x00000264F1042B60>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 17:38:01 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x00000264F1042B60>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 17:38:01 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x00000264F1042B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 17:38:01 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x00000264F1042B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 17:38:01 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000264F1042B60>)
2026-02-22 17:38:01 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000264F1042B60>) completed
2026-02-22 17:38:01 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000264F1042B60>)
2026-02-22 17:38:01 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000264F1042B60>) completed
2026-02-22 17:38:09 - root - INFO - Logging configuré : backend/logs/gemini_api.log
2026-02-22 17:38:10 - asyncio - DEBUG - Using proactor: IocpProactor
2026-02-22 17:38:10 - asyncio - DEBUG - Using proactor: IocpProactor
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001B840B89F80>
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001B840B89F80> completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840ADE110>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840ADE110>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000001B840ADE110>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000001B840ADE110>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001B840ADE110>)
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001B840ADE110>) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001B840ADE110>)
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001B840ADE110>) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001B840B8A200>
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001B840B8A200> completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840ADEA70>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840ADEA70>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840ADEA70>, 'INSERT INTO projects (id, name, path, description, created_at) VALUES (?, ?, ?, ?, ?)', ('a5a73d10-c1d1-4c10-9ee8-5c367c9ccb25', 'TestConfirmProject', 'C:\\Users\\vcout\\AppData\\Local\\Temp\\jarvis_test_confirm_rtp_vl49', 'Test confirmation', '2026-02-22T17:38:10.194434'))
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840ADEA70>, 'INSERT INTO projects (id, name, path, description, created_at) VALUES (?, ?, ?, ?, ?)', ('a5a73d10-c1d1-4c10-9ee8-5c367c9ccb25', 'TestConfirmProject', 'C:\\Users\\vcout\\AppData\\Local\\Temp\\jarvis_test_confirm_rtp_vl49', 'Test confirmation', '2026-02-22T17:38:10.194434')) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001B840ADEA70>)
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001B840ADEA70>) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001B840ADEA70>)
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001B840ADEA70>) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001B840B8A3E0>
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001B840B8A3E0> completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840ADF3D0>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840ADF3D0>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840ADF3D0>, 'INSERT INTO conversations (id, project_id, agent_id, title, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)', ('16458862-a869-427c-acc7-78b4f412fbd6', 'a5a73d10-c1d1-4c10-9ee8-5c367c9ccb25', 'JARVIS_Maître', 'Test Confirmation', '2026-02-22T17:38:10.206364', '2026-02-22T17:38:10.206364'))
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840ADF3D0>, 'INSERT INTO conversations (id, project_id, agent_id, title, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)', ('16458862-a869-427c-acc7-78b4f412fbd6', 'a5a73d10-c1d1-4c10-9ee8-5c367c9ccb25', 'JARVIS_Maître', 'Test Confirmation', '2026-02-22T17:38:10.206364', '2026-02-22T17:38:10.206364')) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001B840ADF3D0>)
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001B840ADF3D0>) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001B840ADF3D0>)
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001B840ADF3D0>) completed
2026-02-22 17:38:10 - backend.api - INFO - API: confirmation action NON-SAFE pour conversation 16458862-a869-427c-acc7-78b4f412fbd6
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001B840B05760>
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001B840B05760> completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6E7A0>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6E7A0>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6E7A0>, 'SELECT * FROM conversations WHERE id = ?', ('16458862-a869-427c-acc7-78b4f412fbd6',))
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6E7A0>, 'SELECT * FROM conversations WHERE id = ?', ('16458862-a869-427c-acc7-78b4f412fbd6',)) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x000001B840B27640>)
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x000001B840B27640>) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001B840B27640>)
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001B840B27640>) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001B840B6E7A0>)
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001B840B6E7A0>) completed
2026-02-22 17:38:10 - backend.api - ERROR - Conversation 16458862-a869-427c-acc7-78b4f412fbd6 not found, cannot add message
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001B840B50400>
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001B840B50400> completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6C040>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6C040>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6C040>, 'SELECT * FROM messages WHERE conversation_id = ? ORDER BY timestamp ASC LIMIT ?', ('16458862-a869-427c-acc7-78b4f412fbd6', 100))
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6C040>, 'SELECT * FROM messages WHERE conversation_id = ? ORDER BY timestamp ASC LIMIT ?', ('16458862-a869-427c-acc7-78b4f412fbd6', 100)) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001B840B24DC0>)
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001B840B24DC0>) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001B840B24DC0>)
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001B840B24DC0>) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001B840B6C040>)
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001B840B6C040>) completed
2026-02-22 17:38:10 - asyncio - DEBUG - Using proactor: IocpProactor
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001B840B8AB60>
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001B840B8AB60> completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6EE30>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6EE30>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000001B840B6EE30>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000001B840B6EE30>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001B840B6EE30>)
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001B840B6EE30>) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001B840B6EE30>)
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001B840B6EE30>) completed
2026-02-22 17:38:10 - asyncio - DEBUG - Using proactor: IocpProactor
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001B840B8A3E0>
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001B840B8A3E0> completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840ADED40>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840ADED40>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000001B840ADED40>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000001B840ADED40>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001B840ADED40>)
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001B840ADED40>) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001B840ADED40>)
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001B840ADED40>) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001B840B05260>
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001B840B05260> completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6DE40>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6DE40>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6DE40>, 'INSERT INTO projects (id, name, path, description, created_at) VALUES (?, ?, ?, ?, ?)', ('22d73530-e4b5-4541-8274-2dd41fe8ef1b', 'TestNoPendingProject', 'C:\\Users\\vcout\\AppData\\Local\\Temp\\jarvis_test_confirm_xugi1rni', 'Test no pending action', '2026-02-22T17:38:10.392785'))
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6DE40>, 'INSERT INTO projects (id, name, path, description, created_at) VALUES (?, ?, ?, ?, ?)', ('22d73530-e4b5-4541-8274-2dd41fe8ef1b', 'TestNoPendingProject', 'C:\\Users\\vcout\\AppData\\Local\\Temp\\jarvis_test_confirm_xugi1rni', 'Test no pending action', '2026-02-22T17:38:10.392785')) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001B840B6DE40>)
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001B840B6DE40>) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001B840B6DE40>)
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001B840B6DE40>) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001B840B05B20>
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001B840B05B20> completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6F100>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6F100>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6F100>, 'SELECT * FROM projects WHERE id = ?', ('22d73530-e4b5-4541-8274-2dd41fe8ef1b',))
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6F100>, 'SELECT * FROM projects WHERE id = ?', ('22d73530-e4b5-4541-8274-2dd41fe8ef1b',)) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x000001B840C072C0>)
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x000001B840C072C0>) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6F100>, 'SELECT COUNT(*) as count FROM conversations WHERE project_id = ?', ('22d73530-e4b5-4541-8274-2dd41fe8ef1b',))
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6F100>, 'SELECT COUNT(*) as count FROM conversations WHERE project_id = ?', ('22d73530-e4b5-4541-8274-2dd41fe8ef1b',)) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x000001B840C053C0>)
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x000001B840C053C0>) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001B840C053C0>)
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001B840C053C0>) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001B840C072C0>)
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001B840C072C0>) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001B840B6F100>)
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001B840B6F100>) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001B840B8A5C0>
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001B840B8A5C0> completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6F6A0>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6F6A0>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6F6A0>, 'INSERT INTO conversations (id, project_id, agent_id, title, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)', ('bb8f2db2-008b-4d33-b1d6-52a1cfc81d24', '22d73530-e4b5-4541-8274-2dd41fe8ef1b', 'JARVIS_Maître', 'Test No Pending', '2026-02-22T17:38:10.538201', '2026-02-22T17:38:10.538201'))
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6F6A0>, 'INSERT INTO conversations (id, project_id, agent_id, title, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)', ('bb8f2db2-008b-4d33-b1d6-52a1cfc81d24', '22d73530-e4b5-4541-8274-2dd41fe8ef1b', 'JARVIS_Maître', 'Test No Pending', '2026-02-22T17:38:10.538201', '2026-02-22T17:38:10.538201')) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001B840B6F6A0>)
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001B840B6F6A0>) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001B840B6F6A0>)
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001B840B6F6A0>) completed
2026-02-22 17:38:10 - asyncio - DEBUG - Using proactor: IocpProactor
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001B840B89EE0>
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001B840B89EE0> completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6EC50>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6EC50>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000001B840B6EC50>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000001B840B6EC50>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001B840B6EC50>)
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001B840B6EC50>) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001B840B6EC50>)
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001B840B6EC50>) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001B840B05580>
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001B840B05580> completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6FC40>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6FC40>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6FC40>, 'INSERT INTO projects (id, name, path, description, created_at) VALUES (?, ?, ?, ?, ?)', ('750ee806-9706-4944-b265-cc586aa305c8', 'TestDoubleConfirmProject', 'C:\\Users\\vcout\\AppData\\Local\\Temp\\jarvis_test_confirm_dzvmcn0e', 'Test double confirmation', '2026-02-22T17:38:10.722478'))
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6FC40>, 'INSERT INTO projects (id, name, path, description, created_at) VALUES (?, ?, ?, ?, ?)', ('750ee806-9706-4944-b265-cc586aa305c8', 'TestDoubleConfirmProject', 'C:\\Users\\vcout\\AppData\\Local\\Temp\\jarvis_test_confirm_dzvmcn0e', 'Test double confirmation', '2026-02-22T17:38:10.722478')) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001B840B6FC40>)
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001B840B6FC40>) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001B840B6FC40>)
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001B840B6FC40>) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001B840B067A0>
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001B840B067A0> completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6F5B0>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6F5B0>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6F5B0>, 'SELECT * FROM projects WHERE id = ?', ('750ee806-9706-4944-b265-cc586aa305c8',))
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6F5B0>, 'SELECT * FROM projects WHERE id = ?', ('750ee806-9706-4944-b265-cc586aa305c8',)) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x000001B840C07340>)
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x000001B840C07340>) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6F5B0>, 'SELECT COUNT(*) as count FROM conversations WHERE project_id = ?', ('750ee806-9706-4944-b265-cc586aa305c8',))
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6F5B0>, 'SELECT COUNT(*) as count FROM conversations WHERE project_id = ?', ('750ee806-9706-4944-b265-cc586aa305c8',)) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x000001B840C057C0>)
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x000001B840C057C0>) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001B840C057C0>)
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001B840C057C0>) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001B840C07340>)
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001B840C07340>) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001B840B6F5B0>)
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001B840B6F5B0>) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001B840B06CA0>
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001B840B06CA0> completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B4C130>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B4C130>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B4C130>, 'INSERT INTO conversations (id, project_id, agent_id, title, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)', ('11057559-d5f9-4990-80b6-c2e7b843e764', '750ee806-9706-4944-b265-cc586aa305c8', 'JARVIS_Maître', 'Test Double Confirm', '2026-02-22T17:38:10.861020', '2026-02-22T17:38:10.861020'))
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B4C130>, 'INSERT INTO conversations (id, project_id, agent_id, title, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)', ('11057559-d5f9-4990-80b6-c2e7b843e764', '750ee806-9706-4944-b265-cc586aa305c8', 'JARVIS_Maître', 'Test Double Confirm', '2026-02-22T17:38:10.861020', '2026-02-22T17:38:10.861020')) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001B840B4C130>)
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001B840B4C130>) completed
2026-02-22 17:38:10 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001B840B4C130>)
2026-02-22 17:38:10 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001B840B4C130>) completed
2026-02-22 17:38:10 - backend.ia.providers.gemini_provider - INFO - GeminiProvider initialized: model=gemini-2.5-pro, min_delay=4.0s
2026-02-22 17:38:10 - backend.ia.providers.provider_factory - INFO - Provider created: JARVIS_Maître → gemini (model=gemini-2.5-pro)
2026-02-22 17:38:10 - backend.api - INFO - API: confirmation action NON-SAFE pour conversation 11057559-d5f9-4990-80b6-c2e7b843e764
2026-02-22 17:38:10 - backend.services.orchestration - INFO - Orchestration: 1 délégation(s) détectée(s)
2026-02-22 17:38:10 - backend.services.orchestration - INFO - Orchestration: action confirmée exécutée, flag nettoyé
2026-02-22 17:38:10 - backend.ia.providers.gemini_provider - INFO - GeminiProvider initialized: model=gemini-2.5-pro, min_delay=4.0s
2026-02-22 17:38:10 - backend.ia.providers.provider_factory - INFO - Provider created: CODEUR → gemini (model=gemini-2.5-pro)
2026-02-22 17:38:10 - backend.agents.base_agent - INFO - Agent CODEUR - Iteration 1/3, messages=2
2026-02-22 17:38:10 - backend.ia.providers.gemini_provider - DEBUG - Formatted 4 functions for Gemini
2026-02-22 17:38:10 - grpc._cython.cygrpc - DEBUG - [_cygrpc] Loaded running loop: id(loop)=1890871718736
2026-02-22 17:38:10 - grpc._cython.cygrpc - DEBUG - Using AsyncIOEngine.POLLER as I/O engine
2026-02-22 17:38:10 - grpc._cython.cygrpc - DEBUG - [_cygrpc] Loaded running loop: id(loop)=1890871718736
2026-02-22 17:38:10 - grpc._cython.cygrpc - DEBUG - [_cygrpc] Loaded running loop: id(loop)=1890871718736
2026-02-22 17:38:15 - backend.ia.providers.gemini_provider - INFO - Gemini response: 531 chars, 0 tool_calls
2026-02-22 17:38:15 - backend.agents.base_agent - INFO - Agent CODEUR - Response: 531 chars, no tool calls
2026-02-22 17:38:15 - backend.services.orchestration - INFO - Orchestration: CODEUR a répondu (531 chars)
2026-02-22 17:38:15 - backend.services.orchestration - INFO - Extraction fichiers : 2 fichiers détectés via 4 stratégies
2026-02-22 17:38:15 - backend.services.orchestration - INFO - Orchestration: instruction CODEUR (23 chars), fichiers attendus extraits: ['double.py', 'fichier double.py']
2026-02-22 17:38:15 - backend.services.orchestration - INFO - Orchestration: estimation 1 fichier(s) → 1 passes estimées → max 10 passes
2026-02-22 17:38:15 - backend.services.file_writer - INFO - Parsing markdown : 1 blocs de code détectés
2026-02-22 17:38:15 - backend.services.file_writer - INFO - Fichier écrit : C:\Users\vcout\AppData\Local\Temp\jarvis_test_confirm_dzvmcn0e\double.py
2026-02-22 17:38:15 - backend.services.orchestration - INFO - Orchestration: passe 1 — 1 fichier(s) écrit(s) dans C:\Users\vcout\AppData\Local\Temp\jarvis_test_confirm_dzvmcn0e
2026-02-22 17:38:15 - backend.services.orchestration - INFO - Extraction fichiers : 2 fichiers détectés via 4 stratégies
2026-02-22 17:38:15 - backend.services.orchestration - INFO - Orchestration: comptage local → 1/2 fichiers, manquants: fichier double.py
2026-02-22 17:38:15 - backend.services.orchestration - INFO - Orchestration: passe 2/10 — fichiers manquants détectés
2026-02-22 17:38:15 - backend.agents.base_agent - INFO - Agent CODEUR - Iteration 1/3, messages=2
2026-02-22 17:38:15 - grpc._cython.cygrpc - DEBUG - [_cygrpc] Loaded running loop: id(loop)=1890871718736
2026-02-22 17:38:24 - backend.ia.providers.gemini_provider - INFO - Gemini response: 425 chars, 0 tool_calls
2026-02-22 17:38:24 - backend.agents.base_agent - INFO - Agent CODEUR - Response: 425 chars, no tool calls
2026-02-22 17:38:24 - backend.services.file_writer - INFO - Parsing markdown : 1 blocs de code détectés
2026-02-22 17:38:24 - backend.services.file_writer - INFO - Fichier écrit : C:\Users\vcout\AppData\Local\Temp\jarvis_test_confirm_dzvmcn0e\double.py
2026-02-22 17:38:24 - backend.services.orchestration - INFO - Orchestration: passe 2 — 1 fichier(s) supplémentaire(s)
2026-02-22 17:38:24 - backend.services.orchestration - INFO - Extraction fichiers : 2 fichiers détectés via 4 stratégies
2026-02-22 17:38:24 - backend.services.orchestration - INFO - Orchestration: comptage local → 1/2 fichiers, manquants: fichier double.py
2026-02-22 17:38:24 - backend.services.orchestration - INFO - Orchestration: passe 3/10 — fichiers manquants détectés
2026-02-22 17:38:24 - backend.agents.base_agent - INFO - Agent CODEUR - Iteration 1/3, messages=2
2026-02-22 17:38:24 - grpc._cython.cygrpc - DEBUG - [_cygrpc] Loaded running loop: id(loop)=1890871718736
2026-02-22 17:38:34 - backend.ia.providers.gemini_provider - INFO - Gemini response: 521 chars, 0 tool_calls
2026-02-22 17:38:34 - backend.agents.base_agent - INFO - Agent CODEUR - Response: 521 chars, no tool calls
2026-02-22 17:38:34 - backend.services.file_writer - INFO - Parsing markdown : 1 blocs de code détectés
2026-02-22 17:38:34 - backend.services.file_writer - INFO - Fichier écrit : C:\Users\vcout\AppData\Local\Temp\jarvis_test_confirm_dzvmcn0e\double.py
2026-02-22 17:38:34 - backend.services.orchestration - INFO - Orchestration: passe 3 — 1 fichier(s) supplémentaire(s)
2026-02-22 17:38:34 - backend.services.orchestration - INFO - Extraction fichiers : 2 fichiers détectés via 4 stratégies
2026-02-22 17:38:34 - backend.services.orchestration - INFO - Orchestration: comptage local → 1/2 fichiers, manquants: fichier double.py
2026-02-22 17:38:34 - backend.services.orchestration - INFO - Orchestration: passe 4/10 — fichiers manquants détectés
2026-02-22 17:38:34 - backend.agents.base_agent - INFO - Agent CODEUR - Iteration 1/3, messages=2
2026-02-22 17:38:34 - grpc._cython.cygrpc - DEBUG - [_cygrpc] Loaded running loop: id(loop)=1890871718736
2026-02-22 17:38:45 - backend.ia.providers.gemini_provider - INFO - Gemini response: 441 chars, 0 tool_calls
2026-02-22 17:38:45 - backend.agents.base_agent - INFO - Agent CODEUR - Response: 441 chars, no tool calls
2026-02-22 17:38:45 - backend.services.file_writer - INFO - Parsing markdown : 1 blocs de code détectés
2026-02-22 17:38:45 - backend.services.file_writer - INFO - Fichier écrit : C:\Users\vcout\AppData\Local\Temp\jarvis_test_confirm_dzvmcn0e\double.py
2026-02-22 17:38:45 - backend.services.orchestration - INFO - Orchestration: passe 4 — 1 fichier(s) supplémentaire(s)
2026-02-22 17:38:45 - backend.services.orchestration - INFO - Extraction fichiers : 2 fichiers détectés via 4 stratégies
2026-02-22 17:38:45 - backend.services.orchestration - INFO - Orchestration: comptage local → 1/2 fichiers, manquants: fichier double.py
2026-02-22 17:38:45 - backend.services.orchestration - INFO - Orchestration: passe 5/10 — fichiers manquants détectés
2026-02-22 17:38:45 - backend.agents.base_agent - INFO - Agent CODEUR - Iteration 1/3, messages=2
2026-02-22 17:38:45 - grpc._cython.cygrpc - DEBUG - [_cygrpc] Loaded running loop: id(loop)=1890871718736
2026-02-22 17:38:53 - backend.ia.providers.gemini_provider - INFO - Gemini response: 426 chars, 0 tool_calls
2026-02-22 17:38:53 - backend.agents.base_agent - INFO - Agent CODEUR - Response: 426 chars, no tool calls
2026-02-22 17:38:53 - backend.services.file_writer - INFO - Parsing markdown : 1 blocs de code détectés
2026-02-22 17:38:53 - backend.services.file_writer - INFO - Fichier écrit : C:\Users\vcout\AppData\Local\Temp\jarvis_test_confirm_dzvmcn0e\double.py
2026-02-22 17:38:53 - backend.services.orchestration - INFO - Orchestration: passe 5 — 1 fichier(s) supplémentaire(s)
2026-02-22 17:38:53 - backend.services.orchestration - INFO - Extraction fichiers : 2 fichiers détectés via 4 stratégies
2026-02-22 17:38:53 - backend.services.orchestration - INFO - Orchestration: comptage local → 1/2 fichiers, manquants: fichier double.py
2026-02-22 17:38:53 - backend.services.orchestration - INFO - Orchestration: passe 6/10 — fichiers manquants détectés
2026-02-22 17:38:53 - backend.agents.base_agent - INFO - Agent CODEUR - Iteration 1/3, messages=2
2026-02-22 17:38:53 - grpc._cython.cygrpc - DEBUG - [_cygrpc] Loaded running loop: id(loop)=1890871718736
2026-02-22 17:39:02 - backend.ia.providers.gemini_provider - INFO - Gemini response: 499 chars, 0 tool_calls
2026-02-22 17:39:02 - backend.agents.base_agent - INFO - Agent CODEUR - Response: 499 chars, no tool calls
2026-02-22 17:39:02 - backend.services.file_writer - INFO - Parsing markdown : 1 blocs de code détectés
2026-02-22 17:39:02 - backend.services.file_writer - INFO - Fichier écrit : C:\Users\vcout\AppData\Local\Temp\jarvis_test_confirm_dzvmcn0e\double.py
2026-02-22 17:39:02 - backend.services.orchestration - INFO - Orchestration: passe 6 — 1 fichier(s) supplémentaire(s)
2026-02-22 17:39:02 - backend.services.orchestration - INFO - Extraction fichiers : 2 fichiers détectés via 4 stratégies
2026-02-22 17:39:02 - backend.services.orchestration - INFO - Orchestration: comptage local → 1/2 fichiers, manquants: fichier double.py
2026-02-22 17:39:02 - backend.services.orchestration - INFO - Orchestration: passe 7/10 — fichiers manquants détectés
2026-02-22 17:39:02 - backend.agents.base_agent - INFO - Agent CODEUR - Iteration 1/3, messages=2
2026-02-22 17:39:02 - grpc._cython.cygrpc - DEBUG - [_cygrpc] Loaded running loop: id(loop)=1890871718736
2026-02-22 17:39:12 - backend.ia.providers.gemini_provider - INFO - Gemini response: 530 chars, 0 tool_calls
2026-02-22 17:39:12 - backend.agents.base_agent - INFO - Agent CODEUR - Response: 530 chars, no tool calls
2026-02-22 17:39:12 - backend.services.file_writer - INFO - Parsing markdown : 1 blocs de code détectés
2026-02-22 17:39:12 - backend.services.file_writer - INFO - Fichier écrit : C:\Users\vcout\AppData\Local\Temp\jarvis_test_confirm_dzvmcn0e\double.py
2026-02-22 17:39:12 - backend.services.orchestration - INFO - Orchestration: passe 7 — 1 fichier(s) supplémentaire(s)
2026-02-22 17:39:12 - backend.services.orchestration - INFO - Extraction fichiers : 2 fichiers détectés via 4 stratégies
2026-02-22 17:39:12 - backend.services.orchestration - INFO - Orchestration: comptage local → 1/2 fichiers, manquants: fichier double.py
2026-02-22 17:39:12 - backend.services.orchestration - INFO - Orchestration: passe 8/10 — fichiers manquants détectés
2026-02-22 17:39:12 - backend.agents.base_agent - INFO - Agent CODEUR - Iteration 1/3, messages=2
2026-02-22 17:39:12 - grpc._cython.cygrpc - DEBUG - [_cygrpc] Loaded running loop: id(loop)=1890871718736
2026-02-22 17:39:21 - backend.ia.providers.gemini_provider - INFO - Gemini response: 529 chars, 0 tool_calls
2026-02-22 17:39:21 - backend.agents.base_agent - INFO - Agent CODEUR - Response: 529 chars, no tool calls
2026-02-22 17:39:21 - backend.services.file_writer - INFO - Parsing markdown : 1 blocs de code détectés
2026-02-22 17:39:21 - backend.services.file_writer - INFO - Fichier écrit : C:\Users\vcout\AppData\Local\Temp\jarvis_test_confirm_dzvmcn0e\double.py
2026-02-22 17:39:21 - backend.services.orchestration - INFO - Orchestration: passe 8 — 1 fichier(s) supplémentaire(s)
2026-02-22 17:39:21 - backend.services.orchestration - INFO - Extraction fichiers : 2 fichiers détectés via 4 stratégies
2026-02-22 17:39:21 - backend.services.orchestration - INFO - Orchestration: comptage local → 1/2 fichiers, manquants: fichier double.py
2026-02-22 17:39:21 - backend.services.orchestration - INFO - Orchestration: passe 9/10 — fichiers manquants détectés
2026-02-22 17:39:21 - backend.agents.base_agent - INFO - Agent CODEUR - Iteration 1/3, messages=2
2026-02-22 17:39:21 - grpc._cython.cygrpc - DEBUG - [_cygrpc] Loaded running loop: id(loop)=1890871718736
2026-02-22 17:39:29 - backend.ia.providers.gemini_provider - INFO - Gemini response: 425 chars, 0 tool_calls
2026-02-22 17:39:29 - backend.agents.base_agent - INFO - Agent CODEUR - Response: 425 chars, no tool calls
2026-02-22 17:39:29 - backend.services.file_writer - INFO - Parsing markdown : 1 blocs de code détectés
2026-02-22 17:39:29 - backend.services.file_writer - INFO - Fichier écrit : C:\Users\vcout\AppData\Local\Temp\jarvis_test_confirm_dzvmcn0e\double.py
2026-02-22 17:39:29 - backend.services.orchestration - INFO - Orchestration: passe 9 — 1 fichier(s) supplémentaire(s)
2026-02-22 17:39:29 - backend.services.orchestration - INFO - Extraction fichiers : 2 fichiers détectés via 4 stratégies
2026-02-22 17:39:29 - backend.services.orchestration - INFO - Orchestration: comptage local → 1/2 fichiers, manquants: fichier double.py
2026-02-22 17:39:29 - backend.services.orchestration - INFO - Orchestration: passe 10/10 — fichiers manquants détectés
2026-02-22 17:39:29 - backend.agents.base_agent - INFO - Agent CODEUR - Iteration 1/3, messages=2
2026-02-22 17:39:29 - grpc._cython.cygrpc - DEBUG - [_cygrpc] Loaded running loop: id(loop)=1890871718736
2026-02-22 17:39:38 - backend.ia.providers.gemini_provider - INFO - Gemini response: 430 chars, 0 tool_calls
2026-02-22 17:39:38 - backend.agents.base_agent - INFO - Agent CODEUR - Response: 430 chars, no tool calls
2026-02-22 17:39:38 - backend.services.file_writer - INFO - Parsing markdown : 1 blocs de code détectés
2026-02-22 17:39:38 - backend.services.file_writer - INFO - Fichier écrit : C:\Users\vcout\AppData\Local\Temp\jarvis_test_confirm_dzvmcn0e\double.py
2026-02-22 17:39:38 - backend.services.orchestration - INFO - Orchestration: passe 10 — 1 fichier(s) supplémentaire(s)
2026-02-22 17:39:38 - backend.ia.providers.gemini_provider - INFO - GeminiProvider initialized: model=gemini-3.1-pro-preview, min_delay=4.0s
2026-02-22 17:39:38 - backend.ia.providers.provider_factory - INFO - Provider created: VALIDATEUR → gemini (model=gemini-3.1-pro-preview)
2026-02-22 17:39:38 - backend.agents.base_agent - INFO - Agent VALIDATEUR - Iteration 1/3, messages=2
2026-02-22 17:39:38 - grpc._cython.cygrpc - DEBUG - [_cygrpc] Loaded running loop: id(loop)=1890871718736
2026-02-22 17:39:38 - grpc._cython.cygrpc - DEBUG - [_cygrpc] Loaded running loop: id(loop)=1890871718736
2026-02-22 17:39:38 - grpc._cython.cygrpc - DEBUG - [_cygrpc] Loaded running loop: id(loop)=1890871718736
2026-02-22 17:40:05 - backend.ia.providers.gemini_provider - INFO - Gemini response: 1035 chars, 0 tool_calls
2026-02-22 17:40:05 - backend.agents.base_agent - INFO - Agent VALIDATEUR - Response: 1035 chars, no tool calls
2026-02-22 17:40:05 - backend.services.orchestration - INFO - Orchestration: VALIDATEUR → STATUT: INVALIDE

FICHIERS VÉRIFIÉS: 1

DÉTAILS PAR FICHIER:
- double.py : ❌ INVALIDE
  PROBLÈMES DÉ
2026-02-22 17:40:05 - backend.services.orchestration - WARNING - Orchestration: VALIDATEUR a détecté des problèmes mais max passes atteint
2026-02-22 17:40:05 - backend.ia.providers.gemini_provider - INFO - GeminiProvider initialized: model=gemini-2.5-pro, min_delay=4.0s
2026-02-22 17:40:05 - backend.ia.providers.provider_factory - INFO - Provider created: BASE → gemini (model=gemini-2.5-pro)
2026-02-22 17:40:05 - backend.agents.base_agent - INFO - Agent BASE - Iteration 1/3, messages=2
2026-02-22 17:40:05 - grpc._cython.cygrpc - DEBUG - [_cygrpc] Loaded running loop: id(loop)=1890871718736
2026-02-22 17:40:05 - grpc._cython.cygrpc - DEBUG - [_cygrpc] Loaded running loop: id(loop)=1890871718736
2026-02-22 17:40:05 - grpc._cython.cygrpc - DEBUG - [_cygrpc] Loaded running loop: id(loop)=1890871718736
2026-02-22 17:40:16 - backend.ia.providers.gemini_provider - INFO - Gemini response: 123 chars, 0 tool_calls
2026-02-22 17:40:16 - backend.agents.base_agent - INFO - Agent BASE - Response: 123 chars, no tool calls
2026-02-22 17:40:16 - backend.services.orchestration - INFO - Orchestration: rapport BASE généré (123 chars)
2026-02-22 17:40:16 - backend.agents.base_agent - INFO - Agent JARVIS_Maître - Iteration 1/3, messages=4
2026-02-22 17:40:16 - grpc._cython.cygrpc - DEBUG - [_cygrpc] Loaded running loop: id(loop)=1890871718736
2026-02-22 17:40:26 - backend.ia.providers.gemini_provider - INFO - Gemini response: 142 chars, 0 tool_calls
2026-02-22 17:40:26 - backend.agents.base_agent - INFO - Agent JARVIS_Maître - Response: 142 chars, no tool calls
2026-02-22 17:40:26 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001B840C309A0>
2026-02-22 17:40:26 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001B840C309A0> completed
2026-02-22 17:40:26 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6E110>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 17:40:26 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6E110>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 17:40:26 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6E110>, 'SELECT * FROM conversations WHERE id = ?', ('11057559-d5f9-4990-80b6-c2e7b843e764',))
2026-02-22 17:40:26 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6E110>, 'SELECT * FROM conversations WHERE id = ?', ('11057559-d5f9-4990-80b6-c2e7b843e764',)) completed
2026-02-22 17:40:26 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x000001B840C4DAC0>)
2026-02-22 17:40:26 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x000001B840C4DAC0>) completed
2026-02-22 17:40:26 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6E110>, 'SELECT COUNT(*) as count FROM messages WHERE conversation_id = ?', ('11057559-d5f9-4990-80b6-c2e7b843e764',))
2026-02-22 17:40:26 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6E110>, 'SELECT COUNT(*) as count FROM messages WHERE conversation_id = ?', ('11057559-d5f9-4990-80b6-c2e7b843e764',)) completed
2026-02-22 17:40:26 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x000001B840C4DEC0>)
2026-02-22 17:40:26 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x000001B840C4DEC0>) completed
2026-02-22 17:40:26 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001B840C4DEC0>)
2026-02-22 17:40:26 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001B840C4DEC0>) completed
2026-02-22 17:40:26 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001B840C4DAC0>)
2026-02-22 17:40:26 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001B840C4DAC0>) completed
2026-02-22 17:40:26 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001B840B6E110>)
2026-02-22 17:40:26 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001B840B6E110>) completed
2026-02-22 17:40:26 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001B840C311C0>
2026-02-22 17:40:26 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001B840C311C0> completed
2026-02-22 17:40:26 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B4C5E0>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 17:40:26 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B4C5E0>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 17:40:26 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B4C5E0>, 'INSERT INTO messages (conversation_id, role, content, timestamp) VALUES (?, ?, ?, ?)', ('11057559-d5f9-4990-80b6-c2e7b843e764', 'assistant', 'La demande a échoué.\n\nLe rapport signale une erreur critique : le CODEUR a généré 10 fichiers, dont plusieurs doublons du fichier `double.py`.', '2026-02-22T17:40:26.511959'))
2026-02-22 17:40:26 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B4C5E0>, 'INSERT INTO messages (conversation_id, role, content, timestamp) VALUES (?, ?, ?, ?)', ('11057559-d5f9-4990-80b6-c2e7b843e764', 'assistant', 'La demande a échoué.\n\nLe rapport signale une erreur critique : le CODEUR a généré 10 fichiers, dont plusieurs doublons du fichier `double.py`.', '2026-02-22T17:40:26.511959')) completed
2026-02-22 17:40:26 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001B840B4C5E0>)
2026-02-22 17:40:26 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001B840B4C5E0>) completed
2026-02-22 17:40:26 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001B840B4C5E0>)
2026-02-22 17:40:26 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001B840B4C5E0>) completed
2026-02-22 17:40:26 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001B840C30D60>
2026-02-22 17:40:26 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001B840C30D60> completed
2026-02-22 17:40:26 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B4C6D0>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 17:40:26 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B4C6D0>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 17:40:26 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B4C6D0>, 'UPDATE conversations SET updated_at = ? WHERE id = ?', ('2026-02-22T17:40:26.672603', '11057559-d5f9-4990-80b6-c2e7b843e764'))
2026-02-22 17:40:26 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B4C6D0>, 'UPDATE conversations SET updated_at = ? WHERE id = ?', ('2026-02-22T17:40:26.672603', '11057559-d5f9-4990-80b6-c2e7b843e764')) completed
2026-02-22 17:40:26 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001B840B4C6D0>)
2026-02-22 17:40:26 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001B840B4C6D0>) completed
2026-02-22 17:40:26 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001B840B4C6D0>)
2026-02-22 17:40:26 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001B840B4C6D0>) completed
2026-02-22 17:40:26 - asyncio - DEBUG - Using proactor: IocpProactor
2026-02-22 17:40:26 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001B840B8AB60>
2026-02-22 17:40:26 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001B840B8AB60> completed
2026-02-22 17:40:26 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840ADF100>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 17:40:26 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840ADF100>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 17:40:26 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000001B840ADF100>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 17:40:26 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000001B840ADF100>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 17:40:26 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001B840ADF100>)
2026-02-22 17:40:26 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001B840ADF100>) completed
2026-02-22 17:40:26 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001B840ADF100>)
2026-02-22 17:40:26 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001B840ADF100>) completed
2026-02-22 17:40:26 - asyncio - DEBUG - Using proactor: IocpProactor
2026-02-22 17:40:26 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001B840B8A0C0>
2026-02-22 17:40:26 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001B840B8A0C0> completed
2026-02-22 17:40:26 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6F880>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 17:40:26 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001B840B6F880>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 17:40:26 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000001B840B6F880>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 19:14:19 - root - INFO - Logging configuré : backend/logs/gemini_api.log
2026-02-22 19:14:19 - backend.ia.providers.provider_factory - DEBUG - Provider cache cleared
2026-02-22 19:14:19 - backend.app - INFO - Provider cache cleared - configuration rechargée depuis .env
2026-02-22 19:14:19 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000243B9930540>
2026-02-22 19:14:19 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000243B9930540> completed
2026-02-22 19:14:19 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x00000243B9832B60>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 19:14:19 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x00000243B9832B60>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 19:14:19 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x00000243B9832B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 19:14:19 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x00000243B9832B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 19:14:19 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000243B9832B60>)
2026-02-22 19:14:19 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000243B9832B60>) completed
2026-02-22 19:14:19 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000243B9832B60>)
2026-02-22 19:14:19 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000243B9832B60>) completed
2026-02-22 19:14:23 - root - INFO - Logging configuré : backend/logs/gemini_api.log
2026-02-22 19:14:23 - backend.ia.providers.provider_factory - DEBUG - Provider cache cleared
2026-02-22 19:14:23 - backend.app - INFO - Provider cache cleared - configuration rechargée depuis .env
2026-02-22 19:14:23 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000177E7740540>
2026-02-22 19:14:23 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000177E7740540> completed
2026-02-22 19:14:23 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x00000177E7642B60>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 19:14:23 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x00000177E7642B60>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 19:14:23 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x00000177E7642B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 19:14:23 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x00000177E7642B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 19:14:23 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000177E7642B60>)
2026-02-22 19:14:23 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000177E7642B60>) completed
2026-02-22 19:14:23 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000177E7642B60>)
2026-02-22 19:14:23 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000177E7642B60>) completed
2026-02-22 19:14:26 - root - INFO - Logging configuré : backend/logs/gemini_api.log
2026-02-22 19:14:26 - backend.ia.providers.provider_factory - DEBUG - Provider cache cleared
2026-02-22 19:14:26 - backend.app - INFO - Provider cache cleared - configuration rechargée depuis .env
2026-02-22 19:14:26 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000224C0B50540>
2026-02-22 19:14:26 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000224C0B50540> completed
2026-02-22 19:14:26 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x00000224C0A52B60>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 19:14:26 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x00000224C0A52B60>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 19:14:26 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x00000224C0A52B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 19:14:26 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x00000224C0A52B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 19:14:26 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000224C0A52B60>)
2026-02-22 19:14:26 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000224C0A52B60>) completed
2026-02-22 19:14:26 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000224C0A52B60>)
2026-02-22 19:14:26 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000224C0A52B60>) completed
2026-02-22 19:14:30 - root - INFO - Logging configuré : backend/logs/gemini_api.log
2026-02-22 19:14:30 - backend.ia.providers.provider_factory - DEBUG - Provider cache cleared
2026-02-22 19:14:30 - backend.app - INFO - Provider cache cleared - configuration rechargée depuis .env
2026-02-22 19:14:30 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x0000026305070540>
2026-02-22 19:14:30 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x0000026305070540> completed
2026-02-22 19:14:30 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000026304F72B60>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 19:14:30 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000026304F72B60>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 19:14:30 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x0000026304F72B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 19:14:30 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x0000026304F72B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 19:14:30 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000026304F72B60>)
2026-02-22 19:14:30 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000026304F72B60>) completed
2026-02-22 19:14:30 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000026304F72B60>)
2026-02-22 19:14:30 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000026304F72B60>) completed
2026-02-22 19:14:33 - root - INFO - Logging configuré : backend/logs/gemini_api.log
2026-02-22 19:14:33 - backend.ia.providers.provider_factory - DEBUG - Provider cache cleared
2026-02-22 19:14:33 - backend.app - INFO - Provider cache cleared - configuration rechargée depuis .env
2026-02-22 19:14:33 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001ACF5E10540>
2026-02-22 19:14:33 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001ACF5E10540> completed
2026-02-22 19:14:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001ACF5D12B60>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 19:14:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001ACF5D12B60>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 19:14:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000001ACF5D12B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 19:14:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000001ACF5D12B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 19:14:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001ACF5D12B60>)
2026-02-22 19:14:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001ACF5D12B60>) completed
2026-02-22 19:14:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001ACF5D12B60>)
2026-02-22 19:14:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001ACF5D12B60>) completed
2026-02-22 19:14:36 - root - INFO - Logging configuré : backend/logs/gemini_api.log
2026-02-22 19:14:36 - backend.ia.providers.provider_factory - DEBUG - Provider cache cleared
2026-02-22 19:14:36 - backend.app - INFO - Provider cache cleared - configuration rechargée depuis .env
2026-02-22 19:14:36 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x0000022646F20540>
2026-02-22 19:14:36 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x0000022646F20540> completed
2026-02-22 19:14:36 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000022646E22B60>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 19:14:36 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000022646E22B60>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 19:14:36 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x0000022646E22B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 19:14:36 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x0000022646E22B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 19:14:36 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022646E22B60>)
2026-02-22 19:14:36 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000022646E22B60>) completed
2026-02-22 19:14:36 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000022646E22B60>)
2026-02-22 19:14:36 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000022646E22B60>) completed
2026-02-22 19:14:40 - root - INFO - Logging configuré : backend/logs/gemini_api.log
2026-02-22 19:14:40 - backend.ia.providers.provider_factory - DEBUG - Provider cache cleared
2026-02-22 19:14:40 - backend.app - INFO - Provider cache cleared - configuration rechargée depuis .env
2026-02-22 19:14:40 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000185B9270540>
2026-02-22 19:14:40 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000185B9270540> completed
2026-02-22 19:14:40 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x00000185B9172B60>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 19:14:40 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x00000185B9172B60>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 19:14:40 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x00000185B9172B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 19:14:40 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x00000185B9172B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 19:14:40 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000185B9172B60>)
2026-02-22 19:14:40 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000185B9172B60>) completed
2026-02-22 19:14:40 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000185B9172B60>)
2026-02-22 19:14:40 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000185B9172B60>) completed
2026-02-22 19:14:44 - root - INFO - Logging configuré : backend/logs/gemini_api.log
2026-02-22 19:14:44 - backend.ia.providers.provider_factory - DEBUG - Provider cache cleared
2026-02-22 19:14:44 - backend.app - INFO - Provider cache cleared - configuration rechargée depuis .env
2026-02-22 19:14:44 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000286C67C0540>
2026-02-22 19:14:44 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000286C67C0540> completed
2026-02-22 19:14:44 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x00000286C66C2B60>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 19:14:44 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x00000286C66C2B60>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 19:14:44 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x00000286C66C2B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 19:14:44 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x00000286C66C2B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 19:14:44 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000286C66C2B60>)
2026-02-22 19:14:44 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000286C66C2B60>) completed
2026-02-22 19:14:44 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000286C66C2B60>)
2026-02-22 19:14:44 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000286C66C2B60>) completed
2026-02-22 19:14:48 - root - INFO - Logging configuré : backend/logs/gemini_api.log
2026-02-22 19:14:48 - backend.ia.providers.provider_factory - DEBUG - Provider cache cleared
2026-02-22 19:14:48 - backend.app - INFO - Provider cache cleared - configuration rechargée depuis .env
2026-02-22 19:14:48 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002524A120540>
2026-02-22 19:14:48 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002524A120540> completed
2026-02-22 19:14:48 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002524A022B60>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 19:14:48 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002524A022B60>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 19:14:48 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000002524A022B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 19:14:48 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000002524A022B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 19:14:48 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002524A022B60>)
2026-02-22 19:14:48 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002524A022B60>) completed
2026-02-22 19:14:48 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002524A022B60>)
2026-02-22 19:14:48 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002524A022B60>) completed
2026-02-22 19:14:52 - root - INFO - Logging configuré : backend/logs/gemini_api.log
2026-02-22 19:14:52 - backend.ia.providers.provider_factory - DEBUG - Provider cache cleared
2026-02-22 19:14:52 - backend.app - INFO - Provider cache cleared - configuration rechargée depuis .env
2026-02-22 19:14:52 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001E139120540>
2026-02-22 19:14:52 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001E139120540> completed
2026-02-22 19:14:52 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001E139022B60>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 19:14:52 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001E139022B60>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 19:14:52 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000001E139022B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 19:14:52 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000001E139022B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 19:14:52 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E139022B60>)
2026-02-22 19:14:52 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001E139022B60>) completed
2026-02-22 19:14:52 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E139022B60>)
2026-02-22 19:14:52 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001E139022B60>) completed
2026-02-22 19:14:55 - root - INFO - Logging configuré : backend/logs/gemini_api.log
2026-02-22 19:14:55 - backend.ia.providers.provider_factory - DEBUG - Provider cache cleared
2026-02-22 19:14:55 - backend.app - INFO - Provider cache cleared - configuration rechargée depuis .env
2026-02-22 19:14:55 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000272BA740540>
2026-02-22 19:14:55 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000272BA740540> completed
2026-02-22 19:14:55 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x00000272BA642B60>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 19:14:55 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x00000272BA642B60>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 19:14:55 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x00000272BA642B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 19:14:55 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x00000272BA642B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 19:14:55 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000272BA642B60>)
2026-02-22 19:14:55 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000272BA642B60>) completed
2026-02-22 19:14:55 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000272BA642B60>)
2026-02-22 19:14:55 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000272BA642B60>) completed
2026-02-22 19:15:02 - root - INFO - Logging configuré : backend/logs/gemini_api.log
2026-02-22 19:15:02 - backend.ia.providers.provider_factory - DEBUG - Provider cache cleared
2026-02-22 19:15:02 - backend.app - INFO - Provider cache cleared - configuration rechargée depuis .env
2026-02-22 19:15:02 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001D0F0055620>
2026-02-22 19:15:02 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001D0F0055620> completed
2026-02-22 19:15:02 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001D0EFF626B0>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 19:15:02 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001D0EFF626B0>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 19:15:02 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000001D0EFF626B0>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 19:15:02 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000001D0EFF626B0>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 19:15:02 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001D0EFF626B0>)
2026-02-22 19:15:02 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001D0EFF626B0>) completed
2026-02-22 19:15:02 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001D0EFF626B0>)
2026-02-22 19:15:02 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001D0EFF626B0>) completed
2026-02-22 19:17:51 - root - INFO - Logging configuré : backend/logs/gemini_api.log
2026-02-22 19:17:51 - backend.ia.providers.provider_factory - DEBUG - Provider cache cleared
2026-02-22 19:17:51 - backend.app - INFO - Provider cache cleared - configuration rechargée depuis .env
2026-02-22 19:17:51 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001968D5F0540>
2026-02-22 19:17:51 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001968D5F0540> completed
2026-02-22 19:17:51 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001968D4F2B60>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 19:17:51 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001968D4F2B60>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 19:17:51 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000001968D4F2B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 19:17:51 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000001968D4F2B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 19:17:51 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001968D4F2B60>)
2026-02-22 19:17:51 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001968D4F2B60>) completed
2026-02-22 19:17:51 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001968D4F2B60>)
2026-02-22 19:17:51 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001968D4F2B60>) completed
2026-02-22 19:18:09 - root - INFO - Logging configuré : backend/logs/gemini_api.log
2026-02-22 19:18:09 - backend.ia.providers.provider_factory - DEBUG - Provider cache cleared
2026-02-22 19:18:09 - backend.app - INFO - Provider cache cleared - configuration rechargée depuis .env
2026-02-22 19:18:09 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001D9C2250540>
2026-02-22 19:18:09 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001D9C2250540> completed
2026-02-22 19:18:09 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001D9C2152B60>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 19:18:09 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001D9C2152B60>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 19:18:09 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000001D9C2152B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 19:18:09 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000001D9C2152B60>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 19:18:09 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001D9C2152B60>)
2026-02-22 19:18:09 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001D9C2152B60>) completed
2026-02-22 19:18:09 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001D9C2152B60>)
2026-02-22 19:18:09 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001D9C2152B60>) completed
2026-02-22 19:18:19 - root - INFO - Logging configuré : backend/logs/gemini_api.log
2026-02-22 19:18:20 - backend.ia.providers.provider_factory - DEBUG - Provider cache cleared
2026-02-22 19:18:20 - backend.app - INFO - Provider cache cleared - configuration rechargée depuis .env
2026-02-22 19:18:20 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001FCD7D61620>
2026-02-22 19:18:20 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001FCD7D61620> completed
2026-02-22 19:18:20 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001FCD7C726B0>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 19:18:20 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001FCD7C726B0>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 19:18:20 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000001FCD7C726B0>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 19:18:20 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000001FCD7C726B0>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 19:18:20 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001FCD7C726B0>)
2026-02-22 19:18:20 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001FCD7C726B0>) completed
2026-02-22 19:18:20 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001FCD7C726B0>)
2026-02-22 19:18:20 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001FCD7C726B0>) completed
2026-02-22 19:19:57 - root - INFO - Logging configuré : backend/logs/gemini_api.log
2026-02-22 19:19:57 - backend.ia.providers.provider_factory - DEBUG - Provider cache cleared
2026-02-22 19:19:57 - backend.app - INFO - Provider cache cleared - configuration rechargée depuis .env
2026-02-22 19:19:57 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002418EB318A0>
2026-02-22 19:19:57 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002418EB318A0> completed
2026-02-22 19:19:57 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002418EA42980>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 19:19:57 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002418EA42980>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 19:19:57 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000002418EA42980>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 19:19:57 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000002418EA42980>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 19:19:57 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002418EA42980>)
2026-02-22 19:19:57 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002418EA42980>) completed
2026-02-22 19:19:57 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002418EA42980>)
2026-02-22 19:19:57 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002418EA42980>) completed
2026-02-22 19:19:59 - root - INFO - Logging configuré : backend/logs/gemini_api.log
2026-02-22 19:19:59 - backend.ia.providers.provider_factory - DEBUG - Provider cache cleared
2026-02-22 19:19:59 - backend.app - INFO - Provider cache cleared - configuration rechargée depuis .env
2026-02-22 19:19:59 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000283039107C0>
2026-02-22 19:19:59 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000283039107C0> completed
2026-02-22 19:19:59 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000028303812E30>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 19:19:59 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000028303812E30>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 19:19:59 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x0000028303812E30>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 19:19:59 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x0000028303812E30>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 19:19:59 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000028303812E30>)
2026-02-22 19:19:59 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000028303812E30>) completed
2026-02-22 19:19:59 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000028303812E30>)
2026-02-22 19:19:59 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000028303812E30>) completed
2026-02-22 19:22:24 - root - INFO - Logging configuré : backend/logs/gemini_api.log
2026-02-22 19:22:24 - backend.ia.providers.provider_factory - DEBUG - Provider cache cleared
2026-02-22 19:22:24 - backend.app - INFO - Provider cache cleared - configuration rechargée depuis .env
2026-02-22 19:22:24 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x0000024303FB18A0>
2026-02-22 19:22:24 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x0000024303FB18A0> completed
2026-02-22 19:22:24 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000024303EC2980>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 19:22:24 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x0000024303EC2980>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 19:22:24 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x0000024303EC2980>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 19:22:24 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x0000024303EC2980>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 19:22:24 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000024303EC2980>)
2026-02-22 19:22:24 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000024303EC2980>) completed
2026-02-22 19:22:24 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000024303EC2980>)
2026-02-22 19:22:24 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000024303EC2980>) completed
2026-02-22 19:23:54 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002430402A8E0>
2026-02-22 19:23:54 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002430402A8E0> completed
2026-02-22 19:23:54 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002430404B790>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 19:23:54 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002430404B790>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 19:23:54 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002430404B790>, 'SELECT * FROM projects ORDER BY created_at DESC', [])
2026-02-22 19:23:54 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002430404B790>, 'SELECT * FROM projects ORDER BY created_at DESC', []) completed
2026-02-22 19:23:54 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002430404F040>)
2026-02-22 19:23:54 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000002430404F040>) completed
2026-02-22 19:23:54 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002430404B790>, 'SELECT COUNT(*) as count FROM conversations WHERE project_id = ?', ('750ee806-9706-4944-b265-cc586aa305c8',))
2026-02-22 19:23:54 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002430404B790>, 'SELECT COUNT(*) as count FROM conversations WHERE project_id = ?', ('750ee806-9706-4944-b265-cc586aa305c8',)) completed
2026-02-22 19:23:54 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x000002430404D7C0>)
2026-02-22 19:23:54 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x000002430404D7C0>) completed
2026-02-22 19:23:54 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002430404D7C0>)
2026-02-22 19:23:54 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002430404D7C0>) completed
2026-02-22 19:23:54 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002430404B790>, 'SELECT COUNT(*) as count FROM conversations WHERE project_id = ?', ('22d73530-e4b5-4541-8274-2dd41fe8ef1b',))
2026-02-22 19:23:54 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002430404B790>, 'SELECT COUNT(*) as count FROM conversations WHERE project_id = ?', ('22d73530-e4b5-4541-8274-2dd41fe8ef1b',)) completed
2026-02-22 19:23:54 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x000002430404CA40>)
2026-02-22 19:23:54 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x000002430404CA40>) completed
2026-02-22 19:23:54 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002430404CA40>)
2026-02-22 19:23:54 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002430404CA40>) completed
2026-02-22 19:23:54 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002430404B790>, 'SELECT COUNT(*) as count FROM conversations WHERE project_id = ?', ('95655de4-eb32-4b02-a3fe-417d37b38412',))
2026-02-22 19:23:54 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002430404B790>, 'SELECT COUNT(*) as count FROM conversations WHERE project_id = ?', ('95655de4-eb32-4b02-a3fe-417d37b38412',)) completed
2026-02-22 19:23:54 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x000002430404DAC0>)
2026-02-22 19:23:54 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x000002430404DAC0>) completed
2026-02-22 19:23:54 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002430404DAC0>)
2026-02-22 19:23:54 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002430404DAC0>) completed
2026-02-22 19:23:54 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002430404B790>, 'SELECT COUNT(*) as count FROM conversations WHERE project_id = ?', ('6b46ed81-1487-46f8-8e96-d3c1f9f29a7e',))
2026-02-22 19:23:54 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002430404B790>, 'SELECT COUNT(*) as count FROM conversations WHERE project_id = ?', ('6b46ed81-1487-46f8-8e96-d3c1f9f29a7e',)) completed
2026-02-22 19:23:54 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x000002430404E4C0>)
2026-02-22 19:23:54 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x000002430404E4C0>) completed
2026-02-22 19:23:54 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002430404E4C0>)
2026-02-22 19:23:54 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002430404E4C0>) completed
2026-02-22 19:23:54 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002430404B790>, 'SELECT COUNT(*) as count FROM conversations WHERE project_id = ?', ('03923716-7300-4dac-a7fa-db6975ae7f31',))
2026-02-22 19:23:54 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002430404B790>, 'SELECT COUNT(*) as count FROM conversations WHERE project_id = ?', ('03923716-7300-4dac-a7fa-db6975ae7f31',)) completed
2026-02-22 19:23:54 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x000002430404D7C0>)
2026-02-22 19:23:54 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x000002430404D7C0>) completed
2026-02-22 19:23:54 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002430404D7C0>)
2026-02-22 19:23:54 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002430404D7C0>) completed
2026-02-22 19:23:54 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002430404F040>)
2026-02-22 19:23:54 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000002430404F040>) completed
2026-02-22 19:23:54 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002430404B790>)
2026-02-22 19:23:54 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002430404B790>) completed
2026-02-22 19:28:45 - root - INFO - Logging configuré : backend/logs/gemini_api.log
2026-02-22 19:28:45 - backend.ia.providers.provider_factory - DEBUG - Provider cache cleared
2026-02-22 19:28:45 - backend.app - INFO - Provider cache cleared - configuration rechargée depuis .env
2026-02-22 19:28:45 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001BBF9EF58A0>
2026-02-22 19:28:45 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001BBF9EF58A0> completed
2026-02-22 19:28:45 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001BBF9E02890>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 19:28:45 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001BBF9E02890>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 19:28:45 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000001BBF9E02890>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 19:28:45 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000001BBF9E02890>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 19:28:45 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001BBF9E02890>)
2026-02-22 19:28:45 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001BBF9E02890>) completed
2026-02-22 19:28:45 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001BBF9E02890>)
2026-02-22 19:28:45 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001BBF9E02890>) completed
2026-02-22 19:28:46 - root - INFO - Logging configuré : backend/logs/gemini_api.log
2026-02-22 19:28:46 - backend.ia.providers.provider_factory - DEBUG - Provider cache cleared
2026-02-22 19:28:46 - backend.app - INFO - Provider cache cleared - configuration rechargée depuis .env
2026-02-22 19:28:46 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000295FBCA07C0>
2026-02-22 19:28:46 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000295FBCA07C0> completed
2026-02-22 19:28:46 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x00000295FBBA2E30>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 19:28:46 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x00000295FBBA2E30>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 19:28:46 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x00000295FBBA2E30>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 19:28:46 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x00000295FBBA2E30>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 19:28:46 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000295FBBA2E30>)
2026-02-22 19:28:46 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000295FBBA2E30>) completed
2026-02-22 19:28:46 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000295FBBA2E30>)
2026-02-22 19:28:46 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000295FBBA2E30>) completed
2026-02-22 20:05:21 - root - INFO - Logging configuré : backend/logs/gemini_api.log
2026-02-22 20:05:21 - backend.ia.providers.provider_factory - DEBUG - Provider cache cleared
2026-02-22 20:05:21 - backend.app - INFO - Provider cache cleared - configuration rechargée depuis .env
2026-02-22 20:05:21 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002ACCABC5940>
2026-02-22 20:05:21 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002ACCABC5940> completed
2026-02-22 20:05:21 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002ACCAADE980>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 20:05:21 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002ACCAADE980>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 20:05:21 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000002ACCAADE980>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 20:05:21 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000002ACCAADE980>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 20:05:21 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002ACCAADE980>)
2026-02-22 20:05:21 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002ACCAADE980>) completed
2026-02-22 20:05:21 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002ACCAADE980>)
2026-02-22 20:05:21 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002ACCAADE980>) completed
2026-02-22 20:05:32 - root - INFO - Logging configuré : backend/logs/gemini_api.log
2026-02-22 20:05:32 - backend.ia.providers.provider_factory - DEBUG - Provider cache cleared
2026-02-22 20:05:32 - backend.app - INFO - Provider cache cleared - configuration rechargée depuis .env
2026-02-22 20:05:32 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000249F0AD0860>
2026-02-22 20:05:32 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000249F0AD0860> completed
2026-02-22 20:05:32 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x00000249F09D2E30>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 20:05:32 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x00000249F09D2E30>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 20:05:32 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x00000249F09D2E30>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 20:05:32 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x00000249F09D2E30>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 20:05:32 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000249F09D2E30>)
2026-02-22 20:05:32 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x00000249F09D2E30>) completed
2026-02-22 20:05:32 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x00000249F09D2E30>)
2026-02-22 20:05:32 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x00000249F09D2E30>) completed
2026-02-22 20:05:32 - root - INFO - Logging configuré : backend/logs/gemini_api.log
2026-02-22 20:05:32 - backend.ia.providers.provider_factory - DEBUG - Provider cache cleared
2026-02-22 20:05:32 - backend.app - INFO - Provider cache cleared - configuration rechargée depuis .env
2026-02-22 20:05:32 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000222128519E0>
2026-02-22 20:05:32 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000222128519E0> completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000002221275E980>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000002221275E980>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002221275E980>)
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002221275E980>) completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002221275E980>)
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002221275E980>) completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x0000022212851D00>
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x0000022212851D00> completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E7A0>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E7A0>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E7A0>, 'SELECT COUNT(*) FROM library_documents', [])
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E7A0>, 'SELECT COUNT(*) FROM library_documents', []) completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x0000022212855440>)
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x0000022212855440>) completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022212855440>)
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000022212855440>) completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x0000022212851C60>
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x0000022212851C60> completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275EF20>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275EF20>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275EF20>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('42e36dee-14cd-4504-a99e-fe243f57c3b9', 'libraries', 'FastAPI', '⚡', 'Framework web Python async — routes, modèles Pydantic, middleware', '# FastAPI — Référence rapide\n\n## Installation\npip install fastapi uvicorn\n\n## App de base\nfrom fastapi import FastAPI, HTTPException\nfrom pydantic import BaseModel\n\napp = FastAPI()\n\nclass Item(BaseModel):\n    name: str\n    price: float\n    description: str | None = None\n\n@app.get("/")\nasync def root():\n    return {"message": "Hello"}\n\n@app.post("/items/", response_model=Item)\nasync def create_item(item: Item):\n    return item\n\n@app.get("/items/{item_id}")\nasync def get_item(item_id: int):\n    if item_id not in db:\n        raise HTTPException(status_code=404, detail="Not found")\n    return db[item_id]\n\n## Middleware\nfrom fastapi.middleware.cors import CORSMiddleware\n\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=["*"],\n    allow_methods=["*"],\n    allow_headers=["*"],\n)\n\n## Query params\n@app.get("/items/")\nasync def list_items(skip: int = 0, limit: int = 10, search: str = None):\n    ...\n\n## Fichiers statiques\nfrom fastapi.staticfiles import StaticFiles\napp.mount("/static", StaticFiles(directory="static"), name="static")\n\n## Tests\nfrom fastapi.testclient import TestClient\nclient = TestClient(app)\nresponse = client.get("/")\nassert response.status_code == 200', '["python", "web", "api"]', '["CODEUR", "BASE"]', '2026-02-22T20:05:33.006131', '2026-02-22T20:05:33.006131'))
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275EF20>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('42e36dee-14cd-4504-a99e-fe243f57c3b9', 'libraries', 'FastAPI', '⚡', 'Framework web Python async — routes, modèles Pydantic, middleware', '# FastAPI — Référence rapide\n\n## Installation\npip install fastapi uvicorn\n\n## App de base\nfrom fastapi import FastAPI, HTTPException\nfrom pydantic import BaseModel\n\napp = FastAPI()\n\nclass Item(BaseModel):\n    name: str\n    price: float\n    description: str | None = None\n\n@app.get("/")\nasync def root():\n    return {"message": "Hello"}\n\n@app.post("/items/", response_model=Item)\nasync def create_item(item: Item):\n    return item\n\n@app.get("/items/{item_id}")\nasync def get_item(item_id: int):\n    if item_id not in db:\n        raise HTTPException(status_code=404, detail="Not found")\n    return db[item_id]\n\n## Middleware\nfrom fastapi.middleware.cors import CORSMiddleware\n\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=["*"],\n    allow_methods=["*"],\n    allow_headers=["*"],\n)\n\n## Query params\n@app.get("/items/")\nasync def list_items(skip: int = 0, limit: int = 10, search: str = None):\n    ...\n\n## Fichiers statiques\nfrom fastapi.staticfiles import StaticFiles\napp.mount("/static", StaticFiles(directory="static"), name="static")\n\n## Tests\nfrom fastapi.testclient import TestClient\nclient = TestClient(app)\nresponse = client.get("/")\nassert response.status_code == 200', '["python", "web", "api"]', '["CODEUR", "BASE"]', '2026-02-22T20:05:33.006131', '2026-02-22T20:05:33.006131')) completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002221275EF20>)
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002221275EF20>) completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002221275EF20>)
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002221275EF20>) completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x0000022212851F80>
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x0000022212851F80> completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E890>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E890>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E890>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('46bcd38f-2474-46c1-8515-f90b8b227f79', 'libraries', 'Pytest', '🧪', 'Framework de tests Python — fixtures, parametrize, tmp_path', '# Pytest — Référence rapide\n\n## Installation\npip install pytest\n\n## Test basique\ndef test_addition():\n    assert 1 + 1 == 2\n\ndef test_exception():\n    import pytest\n    with pytest.raises(ValueError):\n        int("not_a_number")\n\n## Fixtures\nimport pytest\n\n@pytest.fixture\ndef sample_data():\n    return {"key": "value"}\n\ndef test_with_fixture(sample_data):\n    assert sample_data["key"] == "value"\n\n## tmp_path (fichiers temporaires)\ndef test_file(tmp_path):\n    f = tmp_path / "test.txt"\n    f.write_text("hello")\n    assert f.read_text() == "hello"\n\n## Parametrize\n@pytest.mark.parametrize("input,expected", [\n    (1, 2),\n    (2, 4),\n    (3, 6),\n])\ndef test_double(input, expected):\n    assert input * 2 == expected\n\n## Lancer\npytest tests/ -v --tb=short', '["python", "testing"]', '["CODEUR", "BASE"]', '2026-02-22T20:05:33.165208', '2026-02-22T20:05:33.165208'))
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E890>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('46bcd38f-2474-46c1-8515-f90b8b227f79', 'libraries', 'Pytest', '🧪', 'Framework de tests Python — fixtures, parametrize, tmp_path', '# Pytest — Référence rapide\n\n## Installation\npip install pytest\n\n## Test basique\ndef test_addition():\n    assert 1 + 1 == 2\n\ndef test_exception():\n    import pytest\n    with pytest.raises(ValueError):\n        int("not_a_number")\n\n## Fixtures\nimport pytest\n\n@pytest.fixture\ndef sample_data():\n    return {"key": "value"}\n\ndef test_with_fixture(sample_data):\n    assert sample_data["key"] == "value"\n\n## tmp_path (fichiers temporaires)\ndef test_file(tmp_path):\n    f = tmp_path / "test.txt"\n    f.write_text("hello")\n    assert f.read_text() == "hello"\n\n## Parametrize\n@pytest.mark.parametrize("input,expected", [\n    (1, 2),\n    (2, 4),\n    (3, 6),\n])\ndef test_double(input, expected):\n    assert input * 2 == expected\n\n## Lancer\npytest tests/ -v --tb=short', '["python", "testing"]', '["CODEUR", "BASE"]', '2026-02-22T20:05:33.165208', '2026-02-22T20:05:33.165208')) completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002221275E890>)
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002221275E890>) completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002221275E890>)
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002221275E890>) completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x0000022212851E40>
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x0000022212851E40> completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275F1F0>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275F1F0>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275F1F0>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('6fee5e91-4306-4651-9aaf-ff4f3b9654bf', 'libraries', 'Pydantic', '📋', 'Validation de données Python — BaseModel, Field, validators', '# Pydantic v2 — Référence rapide\n\n## Modèle de base\nfrom pydantic import BaseModel, Field\nfrom typing import Optional\nfrom datetime import datetime\n\nclass User(BaseModel):\n    id: int\n    name: str = Field(min_length=1, max_length=100)\n    email: str\n    age: Optional[int] = None\n    created_at: datetime = Field(default_factory=datetime.now)\n\n## Utilisation\nuser = User(id=1, name="Val", email="val@test.com")\nuser_dict = user.model_dump()\nuser_json = user.model_dump_json()\n\n## Depuis dict\nuser = User.model_validate({"id": 1, "name": "Val", "email": "val@test.com"})\n\n## Modèle avec champs optionnels (pour update)\nclass UserUpdate(BaseModel):\n    name: Optional[str] = None\n    email: Optional[str] = None\n\n## Validators\nfrom pydantic import field_validator\n\nclass Product(BaseModel):\n    price: float\n\n    @field_validator(\'price\')\n    @classmethod\n    def price_must_be_positive(cls, v):\n        if v <= 0:\n            raise ValueError(\'Price must be positive\')\n        return v', '["python", "validation"]', '["CODEUR"]', '2026-02-22T20:05:33.280712', '2026-02-22T20:05:33.280712'))
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275F1F0>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('6fee5e91-4306-4651-9aaf-ff4f3b9654bf', 'libraries', 'Pydantic', '📋', 'Validation de données Python — BaseModel, Field, validators', '# Pydantic v2 — Référence rapide\n\n## Modèle de base\nfrom pydantic import BaseModel, Field\nfrom typing import Optional\nfrom datetime import datetime\n\nclass User(BaseModel):\n    id: int\n    name: str = Field(min_length=1, max_length=100)\n    email: str\n    age: Optional[int] = None\n    created_at: datetime = Field(default_factory=datetime.now)\n\n## Utilisation\nuser = User(id=1, name="Val", email="val@test.com")\nuser_dict = user.model_dump()\nuser_json = user.model_dump_json()\n\n## Depuis dict\nuser = User.model_validate({"id": 1, "name": "Val", "email": "val@test.com"})\n\n## Modèle avec champs optionnels (pour update)\nclass UserUpdate(BaseModel):\n    name: Optional[str] = None\n    email: Optional[str] = None\n\n## Validators\nfrom pydantic import field_validator\n\nclass Product(BaseModel):\n    price: float\n\n    @field_validator(\'price\')\n    @classmethod\n    def price_must_be_positive(cls, v):\n        if v <= 0:\n            raise ValueError(\'Price must be positive\')\n        return v', '["python", "validation"]', '["CODEUR"]', '2026-02-22T20:05:33.280712', '2026-02-22T20:05:33.280712')) completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002221275F1F0>)
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002221275F1F0>) completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002221275F1F0>)
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002221275F1F0>) completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x0000022212851F80>
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x0000022212851F80> completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('5f39a094-0d97-41d0-a177-eaa8de3778e1', 'libraries', 'aiosqlite', '🗃️', 'SQLite async pour Python — requêtes, transactions', '# aiosqlite — Référence rapide\n\n## Installation\npip install aiosqlite\n\n## Connexion et requêtes\nimport aiosqlite\n\nasync def example():\n    async with aiosqlite.connect("data.db") as db:\n        db.row_factory = aiosqlite.Row\n\n        # Créer table\n        await db.execute("""\n            CREATE TABLE IF NOT EXISTS users (\n                id INTEGER PRIMARY KEY AUTOINCREMENT,\n                name TEXT NOT NULL,\n                email TEXT UNIQUE\n            )\n        """)\n        await db.commit()\n\n        # Insert\n        await db.execute(\n            "INSERT INTO users (name, email) VALUES (?, ?)",\n            ("Val", "val@test.com")\n        )\n        await db.commit()\n\n        # Select\n        async with db.execute("SELECT * FROM users WHERE id = ?", (1,)) as cursor:\n            row = await cursor.fetchone()\n            if row:\n                print(dict(row))\n\n        # Select all\n        async with db.execute("SELECT * FROM users") as cursor:\n            rows = await cursor.fetchall()\n            return [dict(r) for r in rows]', '["python", "database", "async"]', '["CODEUR"]', '2026-02-22T20:05:33.439215', '2026-02-22T20:05:33.439215'))
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('5f39a094-0d97-41d0-a177-eaa8de3778e1', 'libraries', 'aiosqlite', '🗃️', 'SQLite async pour Python — requêtes, transactions', '# aiosqlite — Référence rapide\n\n## Installation\npip install aiosqlite\n\n## Connexion et requêtes\nimport aiosqlite\n\nasync def example():\n    async with aiosqlite.connect("data.db") as db:\n        db.row_factory = aiosqlite.Row\n\n        # Créer table\n        await db.execute("""\n            CREATE TABLE IF NOT EXISTS users (\n                id INTEGER PRIMARY KEY AUTOINCREMENT,\n                name TEXT NOT NULL,\n                email TEXT UNIQUE\n            )\n        """)\n        await db.commit()\n\n        # Insert\n        await db.execute(\n            "INSERT INTO users (name, email) VALUES (?, ?)",\n            ("Val", "val@test.com")\n        )\n        await db.commit()\n\n        # Select\n        async with db.execute("SELECT * FROM users WHERE id = ?", (1,)) as cursor:\n            row = await cursor.fetchone()\n            if row:\n                print(dict(row))\n\n        # Select all\n        async with db.execute("SELECT * FROM users") as cursor:\n            rows = await cursor.fetchall()\n            return [dict(r) for r in rows]', '["python", "database", "async"]', '["CODEUR"]', '2026-02-22T20:05:33.439215', '2026-02-22T20:05:33.439215')) completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002221275E980>)
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002221275E980>) completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002221275E980>)
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002221275E980>) completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002220CB0BA60>
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002220CB0BA60> completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('531be722-113c-4d5c-9947-8e91aa420876', 'libraries', 'Flutter', '🐦', 'Framework mobile/web — widgets, state, navigation', "# Flutter — Référence rapide\n\n## Nouveau projet\nflutter create my_app\ncd my_app\nflutter run\n\n## Widget Stateless\nclass MyWidget extends StatelessWidget {\n  const MyWidget({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return const Text('Hello Flutter');\n  }\n}\n\n## Widget Stateful\nclass Counter extends StatefulWidget {\n  const Counter({super.key});\n  @override\n  State<Counter> createState() => _CounterState();\n}\n\nclass _CounterState extends State<Counter> {\n  int _count = 0;\n\n  @override\n  Widget build(BuildContext context) {\n    return Column(\n      children: [\n        Text('Count: $_count'),\n        ElevatedButton(\n          onPressed: () => setState(() => _count++),\n          child: const Text('Increment'),\n        ),\n      ],\n    );\n  }\n}\n\n## Navigation\nNavigator.push(context, MaterialPageRoute(builder: (_) => NextPage()));\nNavigator.pop(context);\n\n## HTTP\nimport 'package:http/http.dart' as http;\nfinal response = await http.get(Uri.parse('https://api.example.com/data'));", '["flutter", "dart", "mobile"]', '["CODEUR"]', '2026-02-22T20:05:33.579614', '2026-02-22T20:05:33.579614'))
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('531be722-113c-4d5c-9947-8e91aa420876', 'libraries', 'Flutter', '🐦', 'Framework mobile/web — widgets, state, navigation', "# Flutter — Référence rapide\n\n## Nouveau projet\nflutter create my_app\ncd my_app\nflutter run\n\n## Widget Stateless\nclass MyWidget extends StatelessWidget {\n  const MyWidget({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return const Text('Hello Flutter');\n  }\n}\n\n## Widget Stateful\nclass Counter extends StatefulWidget {\n  const Counter({super.key});\n  @override\n  State<Counter> createState() => _CounterState();\n}\n\nclass _CounterState extends State<Counter> {\n  int _count = 0;\n\n  @override\n  Widget build(BuildContext context) {\n    return Column(\n      children: [\n        Text('Count: $_count'),\n        ElevatedButton(\n          onPressed: () => setState(() => _count++),\n          child: const Text('Increment'),\n        ),\n      ],\n    );\n  }\n}\n\n## Navigation\nNavigator.push(context, MaterialPageRoute(builder: (_) => NextPage()));\nNavigator.pop(context);\n\n## HTTP\nimport 'package:http/http.dart' as http;\nfinal response = await http.get(Uri.parse('https://api.example.com/data'));", '["flutter", "dart", "mobile"]', '["CODEUR"]', '2026-02-22T20:05:33.579614', '2026-02-22T20:05:33.579614')) completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002221275E980>)
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002221275E980>) completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002221275E980>)
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002221275E980>) completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x0000022212851C60>
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x0000022212851C60> completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('28773151-2bdc-4d30-ab18-33c28e3a5b7c', 'methodologies', 'Audit > Plan > Exécution', '🎯', 'Méthodologie principale JARVIS — cycle complet de travail', "# Méthodologie : Audit > Plan > Validation > Exécution > Documentation\n\n## 1. AUDIT\n- Analyser l'existant (code, docs, architecture)\n- Identifier les incohérences, la dette technique\n- Lister les fichiers impactés\n- Produire un rapport factuel\n\n## 2. PLAN\n- Décomposer en étapes ordonnées\n- Pour chaque étape : fichiers, modifications, dépendances\n- Estimer la complexité\n- Identifier les risques\n\n## 3. VALIDATION\n- Présenter le plan à l'utilisateur\n- Attendre validation explicite\n- Ne JAMAIS exécuter sans accord\n\n## 4. EXÉCUTION\n- Suivre le plan étape par étape\n- Un fichier = une modification complète\n- Tester après chaque étape\n- Signaler tout écart par rapport au plan\n\n## 5. DOCUMENTATION\n- Mettre à jour les docs impactées\n- Archiver les docs obsolètes\n- Mettre à jour le CHANGELOG\n- Mettre à jour INDEX.md", '["process", "core"]', '["JARVIS_Maitre"]', '2026-02-22T20:05:33.696470', '2026-02-22T20:05:33.696470'))
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('28773151-2bdc-4d30-ab18-33c28e3a5b7c', 'methodologies', 'Audit > Plan > Exécution', '🎯', 'Méthodologie principale JARVIS — cycle complet de travail', "# Méthodologie : Audit > Plan > Validation > Exécution > Documentation\n\n## 1. AUDIT\n- Analyser l'existant (code, docs, architecture)\n- Identifier les incohérences, la dette technique\n- Lister les fichiers impactés\n- Produire un rapport factuel\n\n## 2. PLAN\n- Décomposer en étapes ordonnées\n- Pour chaque étape : fichiers, modifications, dépendances\n- Estimer la complexité\n- Identifier les risques\n\n## 3. VALIDATION\n- Présenter le plan à l'utilisateur\n- Attendre validation explicite\n- Ne JAMAIS exécuter sans accord\n\n## 4. EXÉCUTION\n- Suivre le plan étape par étape\n- Un fichier = une modification complète\n- Tester après chaque étape\n- Signaler tout écart par rapport au plan\n\n## 5. DOCUMENTATION\n- Mettre à jour les docs impactées\n- Archiver les docs obsolètes\n- Mettre à jour le CHANGELOG\n- Mettre à jour INDEX.md", '["process", "core"]', '["JARVIS_Maitre"]', '2026-02-22T20:05:33.696470', '2026-02-22T20:05:33.696470')) completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002221275E980>)
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002221275E980>) completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002221275E980>)
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002221275E980>) completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x0000022212851EE0>
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x0000022212851EE0> completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('fea34ae0-7283-4d08-8994-6c38eeeb90d4', 'methodologies', 'Gouvernance documentaire', '📁', 'Règles de gestion des documents — reference/work/history', "# Gouvernance documentaire\n\n## Arborescence\n- docs/reference/ : documents contractuels validés (source de vérité)\n- docs/work/ : documents en cours (audits, analyses, brouillons)\n- docs/history/ : archive lecture seule (traçabilité)\n- docs/_meta/ : index, règles, templates, changelog\n\n## Règles d'entrée/sortie\n- work -> reference : doc complet + revue + versioning + MAJ index\n- reference -> history : ancienne version, avec indication du remplaçant\n- work -> history : mission terminée ou doc périmé\n- history : pas de modification\n\n## Conventions\n- reference : NOM_SPECIFICATION.md\n- work : YYYYMMDD_NOM.md\n- history : conserver nom original\n\n## Principe clé\n1 sujet = 1 document de référence (éviter redondances)", '["process", "documentation"]', '["JARVIS_Maitre", "BASE"]', '2026-02-22T20:05:33.821487', '2026-02-22T20:05:33.821487'))
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('fea34ae0-7283-4d08-8994-6c38eeeb90d4', 'methodologies', 'Gouvernance documentaire', '📁', 'Règles de gestion des documents — reference/work/history', "# Gouvernance documentaire\n\n## Arborescence\n- docs/reference/ : documents contractuels validés (source de vérité)\n- docs/work/ : documents en cours (audits, analyses, brouillons)\n- docs/history/ : archive lecture seule (traçabilité)\n- docs/_meta/ : index, règles, templates, changelog\n\n## Règles d'entrée/sortie\n- work -> reference : doc complet + revue + versioning + MAJ index\n- reference -> history : ancienne version, avec indication du remplaçant\n- work -> history : mission terminée ou doc périmé\n- history : pas de modification\n\n## Conventions\n- reference : NOM_SPECIFICATION.md\n- work : YYYYMMDD_NOM.md\n- history : conserver nom original\n\n## Principe clé\n1 sujet = 1 document de référence (éviter redondances)", '["process", "documentation"]', '["JARVIS_Maitre", "BASE"]', '2026-02-22T20:05:33.821487', '2026-02-22T20:05:33.821487')) completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002221275E980>)
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002221275E980>) completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002221275E980>)
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002221275E980>) completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002220CB0BA60>
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002220CB0BA60> completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('99fbb286-8b2f-4a9c-83f1-1abe8d92106b', 'methodologies', 'Revue de code', '🔍', 'Checklist de vérification du code produit par les agents', "# Checklist revue de code\n\n## Structure\n- [ ] Fichiers complets et autonomes\n- [ ] Imports absolus simples (pas de relatifs)\n- [ ] Pas d'artefacts markdown dans le code\n- [ ] Newline en fin de fichier\n\n## Qualité\n- [ ] Pas de code mort\n- [ ] Gestion des erreurs (try/except, if/else)\n- [ ] Types cohérents\n- [ ] Nommage clair et cohérent\n\n## Tests\n- [ ] Tests présents pour chaque module\n- [ ] Cas nominaux couverts\n- [ ] Cas d'erreur couverts\n- [ ] Fixtures utilisées (pas de données en dur)\n\n## Complétude\n- [ ] Tous les fichiers demandés sont présents\n- [ ] requirements.txt à jour\n- [ ] Aucun TODO ou placeholder", '["process", "quality"]', '["BASE"]', '2026-02-22T20:05:33.978666', '2026-02-22T20:05:33.978666'))
2026-02-22 20:05:33 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('99fbb286-8b2f-4a9c-83f1-1abe8d92106b', 'methodologies', 'Revue de code', '🔍', 'Checklist de vérification du code produit par les agents', "# Checklist revue de code\n\n## Structure\n- [ ] Fichiers complets et autonomes\n- [ ] Imports absolus simples (pas de relatifs)\n- [ ] Pas d'artefacts markdown dans le code\n- [ ] Newline en fin de fichier\n\n## Qualité\n- [ ] Pas de code mort\n- [ ] Gestion des erreurs (try/except, if/else)\n- [ ] Types cohérents\n- [ ] Nommage clair et cohérent\n\n## Tests\n- [ ] Tests présents pour chaque module\n- [ ] Cas nominaux couverts\n- [ ] Cas d'erreur couverts\n- [ ] Fixtures utilisées (pas de données en dur)\n\n## Complétude\n- [ ] Tous les fichiers demandés sont présents\n- [ ] requirements.txt à jour\n- [ ] Aucun TODO ou placeholder", '["process", "quality"]', '["BASE"]', '2026-02-22T20:05:33.978666', '2026-02-22T20:05:33.978666')) completed
2026-02-22 20:05:33 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002221275E980>)
2026-02-22 20:05:34 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002221275E980>) completed
2026-02-22 20:05:34 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002221275E980>)
2026-02-22 20:05:34 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002221275E980>) completed
2026-02-22 20:05:34 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x0000022212851F80>
2026-02-22 20:05:34 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x0000022212851F80> completed
2026-02-22 20:05:34 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 20:05:34 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 20:05:34 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('e1b32763-58a2-4bdb-81a5-633c321ad695', 'prompts', 'Délégation au CODEUR', '➡️', 'Template de marqueur pour déléguer du code au CODEUR', "# Template : Délégation au CODEUR\n\n## Format du marqueur\n[DEMANDE_CODE_CODEUR: <instruction complète>]\n\n## Règles\n- L'instruction doit être COMPLÈTE et AUTONOME\n- Lister TOUS les fichiers à produire avec leur chemin\n- Préciser le format de chaque fichier (classe, fonctions, etc.)\n- Préciser les imports et dépendances\n- Max 1 marqueur CODEUR par réponse\n\n## Exemple\n[DEMANDE_CODE_CODEUR: Crée les fichiers suivants :\n- src/models.py : classe User avec id (int), name (str), email (str), méthodes to_dict() et from_dict()\n- src/storage.py : classe JsonStorage avec load() et save(data)\n- tests/test_models.py : tests pytest pour User\n- requirements.txt : pytest\nImports absolus simples, fichiers complets.]", '["inter-agent", "delegation"]', '["JARVIS_Maitre"]', '2026-02-22T20:05:34.121099', '2026-02-22T20:05:34.121099'))
2026-02-22 20:05:34 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('e1b32763-58a2-4bdb-81a5-633c321ad695', 'prompts', 'Délégation au CODEUR', '➡️', 'Template de marqueur pour déléguer du code au CODEUR', "# Template : Délégation au CODEUR\n\n## Format du marqueur\n[DEMANDE_CODE_CODEUR: <instruction complète>]\n\n## Règles\n- L'instruction doit être COMPLÈTE et AUTONOME\n- Lister TOUS les fichiers à produire avec leur chemin\n- Préciser le format de chaque fichier (classe, fonctions, etc.)\n- Préciser les imports et dépendances\n- Max 1 marqueur CODEUR par réponse\n\n## Exemple\n[DEMANDE_CODE_CODEUR: Crée les fichiers suivants :\n- src/models.py : classe User avec id (int), name (str), email (str), méthodes to_dict() et from_dict()\n- src/storage.py : classe JsonStorage avec load() et save(data)\n- tests/test_models.py : tests pytest pour User\n- requirements.txt : pytest\nImports absolus simples, fichiers complets.]", '["inter-agent", "delegation"]', '["JARVIS_Maitre"]', '2026-02-22T20:05:34.121099', '2026-02-22T20:05:34.121099')) completed
2026-02-22 20:05:34 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002221275E980>)
2026-02-22 20:05:34 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002221275E980>) completed
2026-02-22 20:05:34 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002221275E980>)
2026-02-22 20:05:34 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002221275E980>) completed
2026-02-22 20:05:34 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x0000022212851B20>
2026-02-22 20:05:34 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x0000022212851B20> completed
2026-02-22 20:05:34 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 20:05:34 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 20:05:34 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4eccddda-7910-406a-8042-8b5d17d3c5bd', 'prompts', 'Vérification par BASE', '✅', 'Template pour demander une vérification de complétude à BASE', '# Template : Vérification par BASE\n\n## Format du marqueur\n[DEMANDE_VALIDATION_BASE: <instruction de vérification>]\n\n## Réponse attendue de BASE\n- COMPLET : tous les fichiers sont présents et conformes\n- INCOMPLET: liste des fichiers manquants ou problèmes\n\n## Exemple\n[DEMANDE_VALIDATION_BASE: Vérifie que le code produit contient bien :\n- src/models.py avec classe User\n- src/storage.py avec classe JsonStorage\n- tests/test_models.py avec au moins 3 tests\n- requirements.txt]', '["inter-agent", "verification"]', '["JARVIS_Maitre"]', '2026-02-22T20:05:34.245996', '2026-02-22T20:05:34.245996'))
2026-02-22 20:05:34 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('4eccddda-7910-406a-8042-8b5d17d3c5bd', 'prompts', 'Vérification par BASE', '✅', 'Template pour demander une vérification de complétude à BASE', '# Template : Vérification par BASE\n\n## Format du marqueur\n[DEMANDE_VALIDATION_BASE: <instruction de vérification>]\n\n## Réponse attendue de BASE\n- COMPLET : tous les fichiers sont présents et conformes\n- INCOMPLET: liste des fichiers manquants ou problèmes\n\n## Exemple\n[DEMANDE_VALIDATION_BASE: Vérifie que le code produit contient bien :\n- src/models.py avec classe User\n- src/storage.py avec classe JsonStorage\n- tests/test_models.py avec au moins 3 tests\n- requirements.txt]', '["inter-agent", "verification"]', '["JARVIS_Maitre"]', '2026-02-22T20:05:34.245996', '2026-02-22T20:05:34.245996')) completed
2026-02-22 20:05:34 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002221275E980>)
2026-02-22 20:05:34 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002221275E980>) completed
2026-02-22 20:05:34 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002221275E980>)
2026-02-22 20:05:34 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002221275E980>) completed
2026-02-22 20:05:34 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x00000222128520C0>
2026-02-22 20:05:34 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x00000222128520C0> completed
2026-02-22 20:05:34 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 20:05:34 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 20:05:34 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('a75ba506-5474-4059-ab23-aa345e4af341', 'prompts', 'Création de projet', '🆕', "Template de prompt pour demander la création d'un nouveau projet", "# Template : Demande de création de projet\n\n## Structure du prompt\nCrée un projet [NOM] en [LANGAGE] avec :\n- [fichier 1] : [description précise des classes/fonctions]\n- [fichier 2] : [description précise]\n- tests/[test_fichier].py : tests pytest couvrant [cas à tester]\n- requirements.txt : [dépendances]\n\nUtilise des imports absolus simples. Chaque fichier doit être complet et autonome.\n\n## Conseils\n- Être EXPLICITE sur les noms de fichiers et chemins\n- Décrire les classes ET leurs méthodes\n- Préciser les cas d'erreur à gérer\n- Mentionner les dépendances exactes", '["user", "project"]', '["JARVIS_Maitre"]', '2026-02-22T20:05:34.363095', '2026-02-22T20:05:34.363095'))
2026-02-22 20:05:34 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('a75ba506-5474-4059-ab23-aa345e4af341', 'prompts', 'Création de projet', '🆕', "Template de prompt pour demander la création d'un nouveau projet", "# Template : Demande de création de projet\n\n## Structure du prompt\nCrée un projet [NOM] en [LANGAGE] avec :\n- [fichier 1] : [description précise des classes/fonctions]\n- [fichier 2] : [description précise]\n- tests/[test_fichier].py : tests pytest couvrant [cas à tester]\n- requirements.txt : [dépendances]\n\nUtilise des imports absolus simples. Chaque fichier doit être complet et autonome.\n\n## Conseils\n- Être EXPLICITE sur les noms de fichiers et chemins\n- Décrire les classes ET leurs méthodes\n- Préciser les cas d'erreur à gérer\n- Mentionner les dépendances exactes", '["user", "project"]', '["JARVIS_Maitre"]', '2026-02-22T20:05:34.363095', '2026-02-22T20:05:34.363095')) completed
2026-02-22 20:05:34 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002221275E980>)
2026-02-22 20:05:34 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002221275E980>) completed
2026-02-22 20:05:34 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002221275E980>)
2026-02-22 20:05:34 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002221275E980>) completed
2026-02-22 20:05:34 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x0000022212851E40>
2026-02-22 20:05:34 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x0000022212851E40> completed
2026-02-22 20:05:34 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 20:05:34 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 20:05:34 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('5fba8ee5-bc6d-4874-806a-df920ff20c9d', 'personal', 'Conventions de code', '📝', 'Règles de style et conventions suivies dans tous les projets', '# Conventions de code — Val C.\n\n## Python\n- Imports absolus simples (pas de from src.xxx)\n- Classes en PascalCase, fonctions/variables en snake_case\n- Docstrings pour les classes et fonctions publiques\n- Type hints sur les signatures de fonctions\n- Fichiers complets et autonomes\n- Newline en fin de fichier\n- Pas de commentaires inutiles\n\n## JavaScript\n- ES6 modules (import/export)\n- camelCase pour variables/fonctions\n- PascalCase pour classes\n- const par défaut, let si nécessaire, jamais var\n- Template literals pour les strings dynamiques\n\n## Structure projet\n- src/ : code source\n- tests/ : tests\n- docs/ : documentation\n- requirements.txt ou package.json à la racine\n\n## Tests\n- pytest pour Python\n- Nommage : test_[module].py\n- Fixtures pour les données de test\n- tmp_path pour les fichiers temporaires', '["style", "rules"]', '["CODEUR", "JARVIS_Maitre", "BASE"]', '2026-02-22T20:05:34.470418', '2026-02-22T20:05:34.470418'))
2026-02-22 20:05:34 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('5fba8ee5-bc6d-4874-806a-df920ff20c9d', 'personal', 'Conventions de code', '📝', 'Règles de style et conventions suivies dans tous les projets', '# Conventions de code — Val C.\n\n## Python\n- Imports absolus simples (pas de from src.xxx)\n- Classes en PascalCase, fonctions/variables en snake_case\n- Docstrings pour les classes et fonctions publiques\n- Type hints sur les signatures de fonctions\n- Fichiers complets et autonomes\n- Newline en fin de fichier\n- Pas de commentaires inutiles\n\n## JavaScript\n- ES6 modules (import/export)\n- camelCase pour variables/fonctions\n- PascalCase pour classes\n- const par défaut, let si nécessaire, jamais var\n- Template literals pour les strings dynamiques\n\n## Structure projet\n- src/ : code source\n- tests/ : tests\n- docs/ : documentation\n- requirements.txt ou package.json à la racine\n\n## Tests\n- pytest pour Python\n- Nommage : test_[module].py\n- Fixtures pour les données de test\n- tmp_path pour les fichiers temporaires', '["style", "rules"]', '["CODEUR", "JARVIS_Maitre", "BASE"]', '2026-02-22T20:05:34.470418', '2026-02-22T20:05:34.470418')) completed
2026-02-22 20:05:34 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002221275E980>)
2026-02-22 20:05:34 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002221275E980>) completed
2026-02-22 20:05:34 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002221275E980>)
2026-02-22 20:05:34 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002221275E980>) completed
2026-02-22 20:05:34 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000002220CB0BA60>
2026-02-22 20:05:34 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000002220CB0BA60> completed
2026-02-22 20:05:34 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 20:05:34 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 20:05:34 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('6d6c1db2-c540-4692-8c00-419600f5d215', 'personal', 'Stack technique', '🛠️', 'Technologies utilisées et préférées', '# Stack technique — Val C.\n\n## Backend\n- Python 3.11+\n- FastAPI (web framework)\n- SQLite + aiosqlite (base de données)\n- Pydantic v2 (validation)\n- Gemini AI (LLM)\n\n## Frontend\n- HTML/CSS/JavaScript vanilla\n- Pas de framework JS (pas de React/Vue/Angular)\n- ES6 modules\n- CSS custom properties (variables)\n- Design sombre (dark theme)\n\n## Mobile\n- Flutter / Dart (en apprentissage)\n\n## Outils\n- Git\n- pytest\n- VS Code / Windsurf\n- Windows\n\n## Hébergement\n- Local uniquement (pas de cloud)\n- localhost:8000 pour le backend', '["tech", "preferences"]', '["JARVIS_Maitre", "CODEUR"]', '2026-02-22T20:05:34.596085', '2026-02-22T20:05:34.596085'))
2026-02-22 20:05:34 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000002221275E980>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('6d6c1db2-c540-4692-8c00-419600f5d215', 'personal', 'Stack technique', '🛠️', 'Technologies utilisées et préférées', '# Stack technique — Val C.\n\n## Backend\n- Python 3.11+\n- FastAPI (web framework)\n- SQLite + aiosqlite (base de données)\n- Pydantic v2 (validation)\n- Gemini AI (LLM)\n\n## Frontend\n- HTML/CSS/JavaScript vanilla\n- Pas de framework JS (pas de React/Vue/Angular)\n- ES6 modules\n- CSS custom properties (variables)\n- Design sombre (dark theme)\n\n## Mobile\n- Flutter / Dart (en apprentissage)\n\n## Outils\n- Git\n- pytest\n- VS Code / Windsurf\n- Windows\n\n## Hébergement\n- Local uniquement (pas de cloud)\n- localhost:8000 pour le backend', '["tech", "preferences"]', '["JARVIS_Maitre", "CODEUR"]', '2026-02-22T20:05:34.596085', '2026-02-22T20:05:34.596085')) completed
2026-02-22 20:05:34 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002221275E980>)
2026-02-22 20:05:34 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000002221275E980>) completed
2026-02-22 20:05:34 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002221275E980>)
2026-02-22 20:05:34 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002221275E980>) completed
2026-02-22 20:05:34 - backend.db.database - INFO - ✅ Library initialisée avec 13 documents
2026-02-22 20:05:34 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000002221275E7A0>)
2026-02-22 20:05:34 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000002221275E7A0>) completed
2026-02-22 20:05:36 - root - INFO - Logging configuré : backend/logs/gemini_api.log
2026-02-22 20:05:36 - backend.ia.providers.provider_factory - DEBUG - Provider cache cleared
2026-02-22 20:05:36 - backend.app - INFO - Provider cache cleared - configuration rechargée depuis .env
2026-02-22 20:05:36 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001432AC90D60>
2026-02-22 20:05:36 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001432AC90D60> completed
2026-02-22 20:05:36 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001432AB92E30>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 20:05:36 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001432AB92E30>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 20:05:36 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000001432AB92E30>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 20:05:36 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000001432AB92E30>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 20:05:36 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001432AB92E30>)
2026-02-22 20:05:36 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001432AB92E30>) completed
2026-02-22 20:05:36 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001432AB92E30>)
2026-02-22 20:05:36 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001432AB92E30>) completed
2026-02-22 20:05:36 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001432AC91080>
2026-02-22 20:05:36 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001432AC91080> completed
2026-02-22 20:05:36 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001432AB935B0>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 20:05:36 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001432AB935B0>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 20:05:36 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001432AB935B0>, 'SELECT COUNT(*) FROM library_documents', [])
2026-02-22 20:05:36 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001432AB935B0>, 'SELECT COUNT(*) FROM library_documents', []) completed
2026-02-22 20:05:36 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x000001432AC8C3C0>)
2026-02-22 20:05:36 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x000001432AC8C3C0>) completed
2026-02-22 20:05:36 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001432AC8C3C0>)
2026-02-22 20:05:36 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001432AC8C3C0>) completed
2026-02-22 20:05:36 - backend.db.database - DEBUG - Library déjà peuplée (13 documents)
2026-02-22 20:05:36 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001432AB935B0>)
2026-02-22 20:05:36 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001432AB935B0>) completed
2026-02-22 20:07:58 - root - INFO - Logging configuré : backend/logs/gemini_api.log
2026-02-22 20:07:58 - backend.ia.providers.provider_factory - DEBUG - Provider cache cleared
2026-02-22 20:07:58 - backend.app - INFO - Provider cache cleared - configuration rechargée depuis .env
2026-02-22 20:07:58 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001FC5A8B0900>
2026-02-22 20:07:58 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001FC5A8B0900> completed
2026-02-22 20:07:58 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001FC5A7B2E30>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 20:07:58 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001FC5A7B2E30>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 20:07:58 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000001FC5A7B2E30>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 20:07:58 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000001FC5A7B2E30>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 20:07:58 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001FC5A7B2E30>)
2026-02-22 20:07:58 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001FC5A7B2E30>) completed
2026-02-22 20:07:58 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001FC5A7B2E30>)
2026-02-22 20:07:58 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001FC5A7B2E30>) completed
2026-02-22 20:07:58 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001FC5A8B0C20>
2026-02-22 20:07:58 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001FC5A8B0C20> completed
2026-02-22 20:07:58 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001FC5A7B35B0>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 20:07:58 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001FC5A7B35B0>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 20:07:58 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001FC5A7B35B0>, 'SELECT COUNT(*) FROM library_documents', [])
2026-02-22 20:07:58 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001FC5A7B35B0>, 'SELECT COUNT(*) FROM library_documents', []) completed
2026-02-22 20:07:58 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x000001FC5A8AC3C0>)
2026-02-22 20:07:58 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x000001FC5A8AC3C0>) completed
2026-02-22 20:07:58 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FC5A8AC3C0>)
2026-02-22 20:07:58 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001FC5A8AC3C0>) completed
2026-02-22 20:07:58 - backend.db.database - DEBUG - Library déjà peuplée (13 documents)
2026-02-22 20:07:58 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001FC5A7B35B0>)
2026-02-22 20:07:58 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001FC5A7B35B0>) completed
2026-02-22 20:15:13 - root - INFO - Logging configuré : backend/logs/gemini_api.log
2026-02-22 20:15:13 - backend.ia.providers.provider_factory - DEBUG - Provider cache cleared
2026-02-22 20:15:13 - backend.app - INFO - Provider cache cleared - configuration rechargée depuis .env
2026-02-22 20:15:13 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001650DFF5080>
2026-02-22 20:15:13 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001650DFF5080> completed
2026-02-22 20:15:13 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650DEF7010>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 20:15:13 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650DEF7010>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 20:15:13 - aiosqlite - DEBUG - executing functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000001650DEF7010>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n")
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation functools.partial(<built-in method executescript of sqlite3.Connection object at 0x000001650DEF7010>, "-- JARVIS 2.0 - Schéma Base de Données\n-- Gestion de projets avec conversations et messages\n\n-- Table projects\nCREATE TABLE IF NOT EXISTS projects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    path TEXT NOT NULL UNIQUE,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Table conversations\nCREATE TABLE IF NOT EXISTS conversations (\n    id TEXT PRIMARY KEY,\n    project_id TEXT,\n    agent_id TEXT NOT NULL,\n    title TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\n);\n\n-- Table messages\nCREATE TABLE IF NOT EXISTS messages (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    conversation_id TEXT NOT NULL,\n    role TEXT NOT NULL CHECK(role IN ('user', 'assistant')),\n    content TEXT NOT NULL,\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE\n);\n\n-- Index pour performance\nCREATE INDEX IF NOT EXISTS idx_conversations_project ON conversations(project_id);\nCREATE INDEX IF NOT EXISTS idx_conversations_updated ON conversations(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_messages_conversation ON messages(conversation_id);\nCREATE INDEX IF NOT EXISTS idx_messages_timestamp ON messages(timestamp);\n\n-- Table library_documents (Knowledge Base)\nCREATE TABLE IF NOT EXISTS library_documents (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('libraries', 'methodologies', 'prompts', 'personal')),\n    name TEXT NOT NULL,\n    icon TEXT,\n    description TEXT,\n    content TEXT NOT NULL,\n    tags TEXT, -- JSON array stringifié\n    agents TEXT, -- JSON array stringifié\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Index pour performance library\nCREATE INDEX IF NOT EXISTS idx_library_category ON library_documents(category);\nCREATE INDEX IF NOT EXISTS idx_library_updated ON library_documents(updated_at DESC);\nCREATE INDEX IF NOT EXISTS idx_library_name ON library_documents(name);\n") completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001650DEF7010>)
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001650DEF7010>) completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001650DEF7010>)
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001650DEF7010>) completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001650DFF53A0>
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001650DFF53A0> completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650DEF7790>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650DEF7790>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650DEF7790>, 'SELECT COUNT(*) FROM library_documents', [])
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650DEF7790>, 'SELECT COUNT(*) FROM library_documents', []) completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x000001650DFF0AC0>)
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchone of sqlite3.Cursor object at 0x000001650DFF0AC0>) completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001650DFF0AC0>)
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001650DFF0AC0>) completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001650DFF56C0>
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001650DFF56C0> completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650E00C040>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650E00C040>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650E00C040>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('804ad9bc-f21a-4d94-8357-6ff3f5c157be', 'libraries', 'FastAPI', '⚡', 'Framework web Python async — routes, modèles Pydantic, middleware', '# FastAPI — Référence rapide\n\n## Installation\npip install fastapi uvicorn\n\n## App de base\nfrom fastapi import FastAPI, HTTPException\nfrom pydantic import BaseModel\n\napp = FastAPI()\n\nclass Item(BaseModel):\n    name: str\n    price: float\n    description: str | None = None\n\n@app.get("/")\nasync def root():\n    return {"message": "Hello"}\n\n@app.post("/items/", response_model=Item)\nasync def create_item(item: Item):\n    return item\n\n@app.get("/items/{item_id}")\nasync def get_item(item_id: int):\n    if item_id not in db:\n        raise HTTPException(status_code=404, detail="Not found")\n    return db[item_id]\n\n## Middleware\nfrom fastapi.middleware.cors import CORSMiddleware\n\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=["*"],\n    allow_methods=["*"],\n    allow_headers=["*"],\n)\n\n## Query params\n@app.get("/items/")\nasync def list_items(skip: int = 0, limit: int = 10, search: str = None):\n    ...\n\n## Fichiers statiques\nfrom fastapi.staticfiles import StaticFiles\napp.mount("/static", StaticFiles(directory="static"), name="static")\n\n## Tests\nfrom fastapi.testclient import TestClient\nclient = TestClient(app)\nresponse = client.get("/")\nassert response.status_code == 200', '["python", "web", "api"]', '["CODEUR", "BASE"]', '2026-02-22T20:15:14.263671', '2026-02-22T20:15:14.263671'))
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650E00C040>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('804ad9bc-f21a-4d94-8357-6ff3f5c157be', 'libraries', 'FastAPI', '⚡', 'Framework web Python async — routes, modèles Pydantic, middleware', '# FastAPI — Référence rapide\n\n## Installation\npip install fastapi uvicorn\n\n## App de base\nfrom fastapi import FastAPI, HTTPException\nfrom pydantic import BaseModel\n\napp = FastAPI()\n\nclass Item(BaseModel):\n    name: str\n    price: float\n    description: str | None = None\n\n@app.get("/")\nasync def root():\n    return {"message": "Hello"}\n\n@app.post("/items/", response_model=Item)\nasync def create_item(item: Item):\n    return item\n\n@app.get("/items/{item_id}")\nasync def get_item(item_id: int):\n    if item_id not in db:\n        raise HTTPException(status_code=404, detail="Not found")\n    return db[item_id]\n\n## Middleware\nfrom fastapi.middleware.cors import CORSMiddleware\n\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=["*"],\n    allow_methods=["*"],\n    allow_headers=["*"],\n)\n\n## Query params\n@app.get("/items/")\nasync def list_items(skip: int = 0, limit: int = 10, search: str = None):\n    ...\n\n## Fichiers statiques\nfrom fastapi.staticfiles import StaticFiles\napp.mount("/static", StaticFiles(directory="static"), name="static")\n\n## Tests\nfrom fastapi.testclient import TestClient\nclient = TestClient(app)\nresponse = client.get("/")\nassert response.status_code == 200', '["python", "web", "api"]', '["CODEUR", "BASE"]', '2026-02-22T20:15:14.263671', '2026-02-22T20:15:14.263671')) completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001650E00C040>)
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001650E00C040>) completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001650E00C040>)
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001650E00C040>) completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001650923F880>
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001650923F880> completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650E00C220>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650E00C220>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650E00C220>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('dfe02618-9c83-4ca8-979d-e6976b9b2692', 'libraries', 'Pytest', '🧪', 'Framework de tests Python — fixtures, parametrize, tmp_path', '# Pytest — Référence rapide\n\n## Installation\npip install pytest\n\n## Test basique\ndef test_addition():\n    assert 1 + 1 == 2\n\ndef test_exception():\n    import pytest\n    with pytest.raises(ValueError):\n        int("not_a_number")\n\n## Fixtures\nimport pytest\n\n@pytest.fixture\ndef sample_data():\n    return {"key": "value"}\n\ndef test_with_fixture(sample_data):\n    assert sample_data["key"] == "value"\n\n## tmp_path (fichiers temporaires)\ndef test_file(tmp_path):\n    f = tmp_path / "test.txt"\n    f.write_text("hello")\n    assert f.read_text() == "hello"\n\n## Parametrize\n@pytest.mark.parametrize("input,expected", [\n    (1, 2),\n    (2, 4),\n    (3, 6),\n])\ndef test_double(input, expected):\n    assert input * 2 == expected\n\n## Lancer\npytest tests/ -v --tb=short', '["python", "testing"]', '["CODEUR", "BASE"]', '2026-02-22T20:15:14.377161', '2026-02-22T20:15:14.377161'))
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650E00C220>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('dfe02618-9c83-4ca8-979d-e6976b9b2692', 'libraries', 'Pytest', '🧪', 'Framework de tests Python — fixtures, parametrize, tmp_path', '# Pytest — Référence rapide\n\n## Installation\npip install pytest\n\n## Test basique\ndef test_addition():\n    assert 1 + 1 == 2\n\ndef test_exception():\n    import pytest\n    with pytest.raises(ValueError):\n        int("not_a_number")\n\n## Fixtures\nimport pytest\n\n@pytest.fixture\ndef sample_data():\n    return {"key": "value"}\n\ndef test_with_fixture(sample_data):\n    assert sample_data["key"] == "value"\n\n## tmp_path (fichiers temporaires)\ndef test_file(tmp_path):\n    f = tmp_path / "test.txt"\n    f.write_text("hello")\n    assert f.read_text() == "hello"\n\n## Parametrize\n@pytest.mark.parametrize("input,expected", [\n    (1, 2),\n    (2, 4),\n    (3, 6),\n])\ndef test_double(input, expected):\n    assert input * 2 == expected\n\n## Lancer\npytest tests/ -v --tb=short', '["python", "testing"]', '["CODEUR", "BASE"]', '2026-02-22T20:15:14.377161', '2026-02-22T20:15:14.377161')) completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001650E00C220>)
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001650E00C220>) completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001650E00C220>)
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001650E00C220>) completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001650DFF58A0>
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001650DFF58A0> completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650E00C130>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650E00C130>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650E00C130>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('94d5167b-0043-449d-889d-05a419b5403c', 'libraries', 'Pydantic', '📋', 'Validation de données Python — BaseModel, Field, validators', '# Pydantic v2 — Référence rapide\n\n## Modèle de base\nfrom pydantic import BaseModel, Field\nfrom typing import Optional\nfrom datetime import datetime\n\nclass User(BaseModel):\n    id: int\n    name: str = Field(min_length=1, max_length=100)\n    email: str\n    age: Optional[int] = None\n    created_at: datetime = Field(default_factory=datetime.now)\n\n## Utilisation\nuser = User(id=1, name="Val", email="val@test.com")\nuser_dict = user.model_dump()\nuser_json = user.model_dump_json()\n\n## Depuis dict\nuser = User.model_validate({"id": 1, "name": "Val", "email": "val@test.com"})\n\n## Modèle avec champs optionnels (pour update)\nclass UserUpdate(BaseModel):\n    name: Optional[str] = None\n    email: Optional[str] = None\n\n## Validators\nfrom pydantic import field_validator\n\nclass Product(BaseModel):\n    price: float\n\n    @field_validator(\'price\')\n    @classmethod\n    def price_must_be_positive(cls, v):\n        if v <= 0:\n            raise ValueError(\'Price must be positive\')\n        return v', '["python", "validation"]', '["CODEUR"]', '2026-02-22T20:15:14.492162', '2026-02-22T20:15:14.492162'))
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650E00C130>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('94d5167b-0043-449d-889d-05a419b5403c', 'libraries', 'Pydantic', '📋', 'Validation de données Python — BaseModel, Field, validators', '# Pydantic v2 — Référence rapide\n\n## Modèle de base\nfrom pydantic import BaseModel, Field\nfrom typing import Optional\nfrom datetime import datetime\n\nclass User(BaseModel):\n    id: int\n    name: str = Field(min_length=1, max_length=100)\n    email: str\n    age: Optional[int] = None\n    created_at: datetime = Field(default_factory=datetime.now)\n\n## Utilisation\nuser = User(id=1, name="Val", email="val@test.com")\nuser_dict = user.model_dump()\nuser_json = user.model_dump_json()\n\n## Depuis dict\nuser = User.model_validate({"id": 1, "name": "Val", "email": "val@test.com"})\n\n## Modèle avec champs optionnels (pour update)\nclass UserUpdate(BaseModel):\n    name: Optional[str] = None\n    email: Optional[str] = None\n\n## Validators\nfrom pydantic import field_validator\n\nclass Product(BaseModel):\n    price: float\n\n    @field_validator(\'price\')\n    @classmethod\n    def price_must_be_positive(cls, v):\n        if v <= 0:\n            raise ValueError(\'Price must be positive\')\n        return v', '["python", "validation"]', '["CODEUR"]', '2026-02-22T20:15:14.492162', '2026-02-22T20:15:14.492162')) completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001650E00C130>)
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001650E00C130>) completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001650E00C130>)
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001650E00C130>) completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001650923F880>
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001650923F880> completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650DEF6A70>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650DEF6A70>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650DEF6A70>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('aa8aa874-6f51-4509-9f7f-f6d3be5e3944', 'libraries', 'aiosqlite', '🗃️', 'SQLite async pour Python — requêtes, transactions', '# aiosqlite — Référence rapide\n\n## Installation\npip install aiosqlite\n\n## Connexion et requêtes\nimport aiosqlite\n\nasync def example():\n    async with aiosqlite.connect("data.db") as db:\n        db.row_factory = aiosqlite.Row\n\n        # Créer table\n        await db.execute("""\n            CREATE TABLE IF NOT EXISTS users (\n                id INTEGER PRIMARY KEY AUTOINCREMENT,\n                name TEXT NOT NULL,\n                email TEXT UNIQUE\n            )\n        """)\n        await db.commit()\n\n        # Insert\n        await db.execute(\n            "INSERT INTO users (name, email) VALUES (?, ?)",\n            ("Val", "val@test.com")\n        )\n        await db.commit()\n\n        # Select\n        async with db.execute("SELECT * FROM users WHERE id = ?", (1,)) as cursor:\n            row = await cursor.fetchone()\n            if row:\n                print(dict(row))\n\n        # Select all\n        async with db.execute("SELECT * FROM users") as cursor:\n            rows = await cursor.fetchall()\n            return [dict(r) for r in rows]', '["python", "database", "async"]', '["CODEUR"]', '2026-02-22T20:15:14.618226', '2026-02-22T20:15:14.618226'))
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650DEF6A70>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('aa8aa874-6f51-4509-9f7f-f6d3be5e3944', 'libraries', 'aiosqlite', '🗃️', 'SQLite async pour Python — requêtes, transactions', '# aiosqlite — Référence rapide\n\n## Installation\npip install aiosqlite\n\n## Connexion et requêtes\nimport aiosqlite\n\nasync def example():\n    async with aiosqlite.connect("data.db") as db:\n        db.row_factory = aiosqlite.Row\n\n        # Créer table\n        await db.execute("""\n            CREATE TABLE IF NOT EXISTS users (\n                id INTEGER PRIMARY KEY AUTOINCREMENT,\n                name TEXT NOT NULL,\n                email TEXT UNIQUE\n            )\n        """)\n        await db.commit()\n\n        # Insert\n        await db.execute(\n            "INSERT INTO users (name, email) VALUES (?, ?)",\n            ("Val", "val@test.com")\n        )\n        await db.commit()\n\n        # Select\n        async with db.execute("SELECT * FROM users WHERE id = ?", (1,)) as cursor:\n            row = await cursor.fetchone()\n            if row:\n                print(dict(row))\n\n        # Select all\n        async with db.execute("SELECT * FROM users") as cursor:\n            rows = await cursor.fetchall()\n            return [dict(r) for r in rows]', '["python", "database", "async"]', '["CODEUR"]', '2026-02-22T20:15:14.618226', '2026-02-22T20:15:14.618226')) completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001650DEF6A70>)
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001650DEF6A70>) completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001650DEF6A70>)
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001650DEF6A70>) completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001650DFF58A0>
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001650DFF58A0> completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650DEF7D30>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650DEF7D30>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650DEF7D30>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('f66ace7d-c9ff-44b2-9d0d-4a55bb47c569', 'libraries', 'Flutter', '🐦', 'Framework mobile/web — widgets, state, navigation', "# Flutter — Référence rapide\n\n## Nouveau projet\nflutter create my_app\ncd my_app\nflutter run\n\n## Widget Stateless\nclass MyWidget extends StatelessWidget {\n  const MyWidget({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return const Text('Hello Flutter');\n  }\n}\n\n## Widget Stateful\nclass Counter extends StatefulWidget {\n  const Counter({super.key});\n  @override\n  State<Counter> createState() => _CounterState();\n}\n\nclass _CounterState extends State<Counter> {\n  int _count = 0;\n\n  @override\n  Widget build(BuildContext context) {\n    return Column(\n      children: [\n        Text('Count: $_count'),\n        ElevatedButton(\n          onPressed: () => setState(() => _count++),\n          child: const Text('Increment'),\n        ),\n      ],\n    );\n  }\n}\n\n## Navigation\nNavigator.push(context, MaterialPageRoute(builder: (_) => NextPage()));\nNavigator.pop(context);\n\n## HTTP\nimport 'package:http/http.dart' as http;\nfinal response = await http.get(Uri.parse('https://api.example.com/data'));", '["flutter", "dart", "mobile"]', '["CODEUR"]', '2026-02-22T20:15:14.743802', '2026-02-22T20:15:14.743802'))
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650DEF7D30>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('f66ace7d-c9ff-44b2-9d0d-4a55bb47c569', 'libraries', 'Flutter', '🐦', 'Framework mobile/web — widgets, state, navigation', "# Flutter — Référence rapide\n\n## Nouveau projet\nflutter create my_app\ncd my_app\nflutter run\n\n## Widget Stateless\nclass MyWidget extends StatelessWidget {\n  const MyWidget({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return const Text('Hello Flutter');\n  }\n}\n\n## Widget Stateful\nclass Counter extends StatefulWidget {\n  const Counter({super.key});\n  @override\n  State<Counter> createState() => _CounterState();\n}\n\nclass _CounterState extends State<Counter> {\n  int _count = 0;\n\n  @override\n  Widget build(BuildContext context) {\n    return Column(\n      children: [\n        Text('Count: $_count'),\n        ElevatedButton(\n          onPressed: () => setState(() => _count++),\n          child: const Text('Increment'),\n        ),\n      ],\n    );\n  }\n}\n\n## Navigation\nNavigator.push(context, MaterialPageRoute(builder: (_) => NextPage()));\nNavigator.pop(context);\n\n## HTTP\nimport 'package:http/http.dart' as http;\nfinal response = await http.get(Uri.parse('https://api.example.com/data'));", '["flutter", "dart", "mobile"]', '["CODEUR"]', '2026-02-22T20:15:14.743802', '2026-02-22T20:15:14.743802')) completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001650DEF7D30>)
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001650DEF7D30>) completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001650DEF7D30>)
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001650DEF7D30>) completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001650923F880>
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001650923F880> completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650DEF6890>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650DEF6890>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650DEF6890>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('0fb32544-c1a6-46c7-b60c-5517a1f013ed', 'methodologies', 'Audit > Plan > Exécution', '🎯', 'Méthodologie principale JARVIS — cycle complet de travail', "# Méthodologie : Audit > Plan > Validation > Exécution > Documentation\n\n## 1. AUDIT\n- Analyser l'existant (code, docs, architecture)\n- Identifier les incohérences, la dette technique\n- Lister les fichiers impactés\n- Produire un rapport factuel\n\n## 2. PLAN\n- Décomposer en étapes ordonnées\n- Pour chaque étape : fichiers, modifications, dépendances\n- Estimer la complexité\n- Identifier les risques\n\n## 3. VALIDATION\n- Présenter le plan à l'utilisateur\n- Attendre validation explicite\n- Ne JAMAIS exécuter sans accord\n\n## 4. EXÉCUTION\n- Suivre le plan étape par étape\n- Un fichier = une modification complète\n- Tester après chaque étape\n- Signaler tout écart par rapport au plan\n\n## 5. DOCUMENTATION\n- Mettre à jour les docs impactées\n- Archiver les docs obsolètes\n- Mettre à jour le CHANGELOG\n- Mettre à jour INDEX.md", '["process", "core"]', '["JARVIS_Maitre"]', '2026-02-22T20:15:14.868459', '2026-02-22T20:15:14.868459'))
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650DEF6890>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('0fb32544-c1a6-46c7-b60c-5517a1f013ed', 'methodologies', 'Audit > Plan > Exécution', '🎯', 'Méthodologie principale JARVIS — cycle complet de travail', "# Méthodologie : Audit > Plan > Validation > Exécution > Documentation\n\n## 1. AUDIT\n- Analyser l'existant (code, docs, architecture)\n- Identifier les incohérences, la dette technique\n- Lister les fichiers impactés\n- Produire un rapport factuel\n\n## 2. PLAN\n- Décomposer en étapes ordonnées\n- Pour chaque étape : fichiers, modifications, dépendances\n- Estimer la complexité\n- Identifier les risques\n\n## 3. VALIDATION\n- Présenter le plan à l'utilisateur\n- Attendre validation explicite\n- Ne JAMAIS exécuter sans accord\n\n## 4. EXÉCUTION\n- Suivre le plan étape par étape\n- Un fichier = une modification complète\n- Tester après chaque étape\n- Signaler tout écart par rapport au plan\n\n## 5. DOCUMENTATION\n- Mettre à jour les docs impactées\n- Archiver les docs obsolètes\n- Mettre à jour le CHANGELOG\n- Mettre à jour INDEX.md", '["process", "core"]', '["JARVIS_Maitre"]', '2026-02-22T20:15:14.868459', '2026-02-22T20:15:14.868459')) completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001650DEF6890>)
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001650DEF6890>) completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001650DEF6890>)
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001650DEF6890>) completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001650DFF58A0>
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001650DFF58A0> completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650DEF7880>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650DEF7880>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650DEF7880>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('c7e52602-4b99-40e6-9789-ba2dcbb41ffb', 'methodologies', 'Gouvernance documentaire', '📁', 'Règles de gestion des documents — reference/work/history', "# Gouvernance documentaire\n\n## Arborescence\n- docs/reference/ : documents contractuels validés (source de vérité)\n- docs/work/ : documents en cours (audits, analyses, brouillons)\n- docs/history/ : archive lecture seule (traçabilité)\n- docs/_meta/ : index, règles, templates, changelog\n\n## Règles d'entrée/sortie\n- work -> reference : doc complet + revue + versioning + MAJ index\n- reference -> history : ancienne version, avec indication du remplaçant\n- work -> history : mission terminée ou doc périmé\n- history : pas de modification\n\n## Conventions\n- reference : NOM_SPECIFICATION.md\n- work : YYYYMMDD_NOM.md\n- history : conserver nom original\n\n## Principe clé\n1 sujet = 1 document de référence (éviter redondances)", '["process", "documentation"]', '["JARVIS_Maitre", "BASE"]', '2026-02-22T20:15:14.993141', '2026-02-22T20:15:14.993141'))
2026-02-22 20:15:14 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650DEF7880>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('c7e52602-4b99-40e6-9789-ba2dcbb41ffb', 'methodologies', 'Gouvernance documentaire', '📁', 'Règles de gestion des documents — reference/work/history', "# Gouvernance documentaire\n\n## Arborescence\n- docs/reference/ : documents contractuels validés (source de vérité)\n- docs/work/ : documents en cours (audits, analyses, brouillons)\n- docs/history/ : archive lecture seule (traçabilité)\n- docs/_meta/ : index, règles, templates, changelog\n\n## Règles d'entrée/sortie\n- work -> reference : doc complet + revue + versioning + MAJ index\n- reference -> history : ancienne version, avec indication du remplaçant\n- work -> history : mission terminée ou doc périmé\n- history : pas de modification\n\n## Conventions\n- reference : NOM_SPECIFICATION.md\n- work : YYYYMMDD_NOM.md\n- history : conserver nom original\n\n## Principe clé\n1 sujet = 1 document de référence (éviter redondances)", '["process", "documentation"]', '["JARVIS_Maitre", "BASE"]', '2026-02-22T20:15:14.993141', '2026-02-22T20:15:14.993141')) completed
2026-02-22 20:15:14 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001650DEF7880>)
2026-02-22 20:15:15 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001650DEF7880>) completed
2026-02-22 20:15:15 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001650DEF7880>)
2026-02-22 20:15:15 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001650DEF7880>) completed
2026-02-22 20:15:15 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001650923F880>
2026-02-22 20:15:15 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001650923F880> completed
2026-02-22 20:15:15 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650DEF6A70>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 20:15:15 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650DEF6A70>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 20:15:15 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650DEF6A70>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('cc6300cf-fe50-49fa-930d-489a7ab3ea98', 'methodologies', 'Revue de code', '🔍', 'Checklist de vérification du code produit par les agents', "# Checklist revue de code\n\n## Structure\n- [ ] Fichiers complets et autonomes\n- [ ] Imports absolus simples (pas de relatifs)\n- [ ] Pas d'artefacts markdown dans le code\n- [ ] Newline en fin de fichier\n\n## Qualité\n- [ ] Pas de code mort\n- [ ] Gestion des erreurs (try/except, if/else)\n- [ ] Types cohérents\n- [ ] Nommage clair et cohérent\n\n## Tests\n- [ ] Tests présents pour chaque module\n- [ ] Cas nominaux couverts\n- [ ] Cas d'erreur couverts\n- [ ] Fixtures utilisées (pas de données en dur)\n\n## Complétude\n- [ ] Tous les fichiers demandés sont présents\n- [ ] requirements.txt à jour\n- [ ] Aucun TODO ou placeholder", '["process", "quality"]', '["BASE"]', '2026-02-22T20:15:15.109563', '2026-02-22T20:15:15.109563'))
2026-02-22 20:15:15 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650DEF6A70>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('cc6300cf-fe50-49fa-930d-489a7ab3ea98', 'methodologies', 'Revue de code', '🔍', 'Checklist de vérification du code produit par les agents', "# Checklist revue de code\n\n## Structure\n- [ ] Fichiers complets et autonomes\n- [ ] Imports absolus simples (pas de relatifs)\n- [ ] Pas d'artefacts markdown dans le code\n- [ ] Newline en fin de fichier\n\n## Qualité\n- [ ] Pas de code mort\n- [ ] Gestion des erreurs (try/except, if/else)\n- [ ] Types cohérents\n- [ ] Nommage clair et cohérent\n\n## Tests\n- [ ] Tests présents pour chaque module\n- [ ] Cas nominaux couverts\n- [ ] Cas d'erreur couverts\n- [ ] Fixtures utilisées (pas de données en dur)\n\n## Complétude\n- [ ] Tous les fichiers demandés sont présents\n- [ ] requirements.txt à jour\n- [ ] Aucun TODO ou placeholder", '["process", "quality"]', '["BASE"]', '2026-02-22T20:15:15.109563', '2026-02-22T20:15:15.109563')) completed
2026-02-22 20:15:15 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001650DEF6A70>)
2026-02-22 20:15:15 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001650DEF6A70>) completed
2026-02-22 20:15:15 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001650DEF6A70>)
2026-02-22 20:15:15 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001650DEF6A70>) completed
2026-02-22 20:15:15 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001650DFF58A0>
2026-02-22 20:15:15 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001650DFF58A0> completed
2026-02-22 20:15:15 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650DEF7D30>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 20:15:15 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650DEF7D30>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 20:15:15 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650DEF7D30>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('47433870-973f-4bba-a744-1714959945b5', 'prompts', 'Délégation au CODEUR', '➡️', 'Template de marqueur pour déléguer du code au CODEUR', "# Template : Délégation au CODEUR\n\n## Format du marqueur\n[DEMANDE_CODE_CODEUR: <instruction complète>]\n\n## Règles\n- L'instruction doit être COMPLÈTE et AUTONOME\n- Lister TOUS les fichiers à produire avec leur chemin\n- Préciser le format de chaque fichier (classe, fonctions, etc.)\n- Préciser les imports et dépendances\n- Max 1 marqueur CODEUR par réponse\n\n## Exemple\n[DEMANDE_CODE_CODEUR: Crée les fichiers suivants :\n- src/models.py : classe User avec id (int), name (str), email (str), méthodes to_dict() et from_dict()\n- src/storage.py : classe JsonStorage avec load() et save(data)\n- tests/test_models.py : tests pytest pour User\n- requirements.txt : pytest\nImports absolus simples, fichiers complets.]", '["inter-agent", "delegation"]', '["JARVIS_Maitre"]', '2026-02-22T20:15:15.234627', '2026-02-22T20:15:15.234627'))
2026-02-22 20:15:15 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650DEF7D30>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('47433870-973f-4bba-a744-1714959945b5', 'prompts', 'Délégation au CODEUR', '➡️', 'Template de marqueur pour déléguer du code au CODEUR', "# Template : Délégation au CODEUR\n\n## Format du marqueur\n[DEMANDE_CODE_CODEUR: <instruction complète>]\n\n## Règles\n- L'instruction doit être COMPLÈTE et AUTONOME\n- Lister TOUS les fichiers à produire avec leur chemin\n- Préciser le format de chaque fichier (classe, fonctions, etc.)\n- Préciser les imports et dépendances\n- Max 1 marqueur CODEUR par réponse\n\n## Exemple\n[DEMANDE_CODE_CODEUR: Crée les fichiers suivants :\n- src/models.py : classe User avec id (int), name (str), email (str), méthodes to_dict() et from_dict()\n- src/storage.py : classe JsonStorage avec load() et save(data)\n- tests/test_models.py : tests pytest pour User\n- requirements.txt : pytest\nImports absolus simples, fichiers complets.]", '["inter-agent", "delegation"]', '["JARVIS_Maitre"]', '2026-02-22T20:15:15.234627', '2026-02-22T20:15:15.234627')) completed
2026-02-22 20:15:15 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001650DEF7D30>)
2026-02-22 20:15:15 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001650DEF7D30>) completed
2026-02-22 20:15:15 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001650DEF7D30>)
2026-02-22 20:15:15 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001650DEF7D30>) completed
2026-02-22 20:15:15 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001650DFF5760>
2026-02-22 20:15:15 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001650DFF5760> completed
2026-02-22 20:15:15 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650E00C400>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 20:15:15 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650E00C400>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 20:15:15 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650E00C400>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('5dc30fb8-7ec3-4a71-a592-9e51060c5575', 'prompts', 'Vérification par BASE', '✅', 'Template pour demander une vérification de complétude à BASE', '# Template : Vérification par BASE\n\n## Format du marqueur\n[DEMANDE_VALIDATION_BASE: <instruction de vérification>]\n\n## Réponse attendue de BASE\n- COMPLET : tous les fichiers sont présents et conformes\n- INCOMPLET: liste des fichiers manquants ou problèmes\n\n## Exemple\n[DEMANDE_VALIDATION_BASE: Vérifie que le code produit contient bien :\n- src/models.py avec classe User\n- src/storage.py avec classe JsonStorage\n- tests/test_models.py avec au moins 3 tests\n- requirements.txt]', '["inter-agent", "verification"]', '["JARVIS_Maitre"]', '2026-02-22T20:15:15.332315', '2026-02-22T20:15:15.332315'))
2026-02-22 20:15:15 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650E00C400>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('5dc30fb8-7ec3-4a71-a592-9e51060c5575', 'prompts', 'Vérification par BASE', '✅', 'Template pour demander une vérification de complétude à BASE', '# Template : Vérification par BASE\n\n## Format du marqueur\n[DEMANDE_VALIDATION_BASE: <instruction de vérification>]\n\n## Réponse attendue de BASE\n- COMPLET : tous les fichiers sont présents et conformes\n- INCOMPLET: liste des fichiers manquants ou problèmes\n\n## Exemple\n[DEMANDE_VALIDATION_BASE: Vérifie que le code produit contient bien :\n- src/models.py avec classe User\n- src/storage.py avec classe JsonStorage\n- tests/test_models.py avec au moins 3 tests\n- requirements.txt]', '["inter-agent", "verification"]', '["JARVIS_Maitre"]', '2026-02-22T20:15:15.332315', '2026-02-22T20:15:15.332315')) completed
2026-02-22 20:15:15 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001650E00C400>)
2026-02-22 20:15:15 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001650E00C400>) completed
2026-02-22 20:15:15 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001650E00C400>)
2026-02-22 20:15:15 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001650E00C400>) completed
2026-02-22 20:15:15 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001650DFF5580>
2026-02-22 20:15:15 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001650DFF5580> completed
2026-02-22 20:15:15 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650DEF6890>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 20:15:15 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650DEF6890>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 20:15:15 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650DEF6890>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('3d126995-04f3-4467-8bf2-c92649889cdd', 'prompts', 'Création de projet', '🆕', "Template de prompt pour demander la création d'un nouveau projet", "# Template : Demande de création de projet\n\n## Structure du prompt\nCrée un projet [NOM] en [LANGAGE] avec :\n- [fichier 1] : [description précise des classes/fonctions]\n- [fichier 2] : [description précise]\n- tests/[test_fichier].py : tests pytest couvrant [cas à tester]\n- requirements.txt : [dépendances]\n\nUtilise des imports absolus simples. Chaque fichier doit être complet et autonome.\n\n## Conseils\n- Être EXPLICITE sur les noms de fichiers et chemins\n- Décrire les classes ET leurs méthodes\n- Préciser les cas d'erreur à gérer\n- Mentionner les dépendances exactes", '["user", "project"]', '["JARVIS_Maitre"]', '2026-02-22T20:15:15.433134', '2026-02-22T20:15:15.433134'))
2026-02-22 20:15:15 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650DEF6890>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('3d126995-04f3-4467-8bf2-c92649889cdd', 'prompts', 'Création de projet', '🆕', "Template de prompt pour demander la création d'un nouveau projet", "# Template : Demande de création de projet\n\n## Structure du prompt\nCrée un projet [NOM] en [LANGAGE] avec :\n- [fichier 1] : [description précise des classes/fonctions]\n- [fichier 2] : [description précise]\n- tests/[test_fichier].py : tests pytest couvrant [cas à tester]\n- requirements.txt : [dépendances]\n\nUtilise des imports absolus simples. Chaque fichier doit être complet et autonome.\n\n## Conseils\n- Être EXPLICITE sur les noms de fichiers et chemins\n- Décrire les classes ET leurs méthodes\n- Préciser les cas d'erreur à gérer\n- Mentionner les dépendances exactes", '["user", "project"]', '["JARVIS_Maitre"]', '2026-02-22T20:15:15.433134', '2026-02-22T20:15:15.433134')) completed
2026-02-22 20:15:15 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001650DEF6890>)
2026-02-22 20:15:15 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001650DEF6890>) completed
2026-02-22 20:15:15 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001650DEF6890>)
2026-02-22 20:15:15 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001650DEF6890>) completed
2026-02-22 20:15:15 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001650DFF58A0>
2026-02-22 20:15:15 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001650DFF58A0> completed
2026-02-22 20:15:15 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650DEF7880>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 20:15:15 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650DEF7880>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 20:15:15 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650DEF7880>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('c8efe81c-7b8a-43a3-b4dc-53cf11c32b2d', 'personal', 'Conventions de code', '📝', 'Règles de style et conventions suivies dans tous les projets', '# Conventions de code — Val C.\n\n## Python\n- Imports absolus simples (pas de from src.xxx)\n- Classes en PascalCase, fonctions/variables en snake_case\n- Docstrings pour les classes et fonctions publiques\n- Type hints sur les signatures de fonctions\n- Fichiers complets et autonomes\n- Newline en fin de fichier\n- Pas de commentaires inutiles\n\n## JavaScript\n- ES6 modules (import/export)\n- camelCase pour variables/fonctions\n- PascalCase pour classes\n- const par défaut, let si nécessaire, jamais var\n- Template literals pour les strings dynamiques\n\n## Structure projet\n- src/ : code source\n- tests/ : tests\n- docs/ : documentation\n- requirements.txt ou package.json à la racine\n\n## Tests\n- pytest pour Python\n- Nommage : test_[module].py\n- Fixtures pour les données de test\n- tmp_path pour les fichiers temporaires', '["style", "rules"]', '["CODEUR", "JARVIS_Maitre", "BASE"]', '2026-02-22T20:15:15.540892', '2026-02-22T20:15:15.540892'))
2026-02-22 20:15:15 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650DEF7880>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('c8efe81c-7b8a-43a3-b4dc-53cf11c32b2d', 'personal', 'Conventions de code', '📝', 'Règles de style et conventions suivies dans tous les projets', '# Conventions de code — Val C.\n\n## Python\n- Imports absolus simples (pas de from src.xxx)\n- Classes en PascalCase, fonctions/variables en snake_case\n- Docstrings pour les classes et fonctions publiques\n- Type hints sur les signatures de fonctions\n- Fichiers complets et autonomes\n- Newline en fin de fichier\n- Pas de commentaires inutiles\n\n## JavaScript\n- ES6 modules (import/export)\n- camelCase pour variables/fonctions\n- PascalCase pour classes\n- const par défaut, let si nécessaire, jamais var\n- Template literals pour les strings dynamiques\n\n## Structure projet\n- src/ : code source\n- tests/ : tests\n- docs/ : documentation\n- requirements.txt ou package.json à la racine\n\n## Tests\n- pytest pour Python\n- Nommage : test_[module].py\n- Fixtures pour les données de test\n- tmp_path pour les fichiers temporaires', '["style", "rules"]', '["CODEUR", "JARVIS_Maitre", "BASE"]', '2026-02-22T20:15:15.540892', '2026-02-22T20:15:15.540892')) completed
2026-02-22 20:15:15 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001650DEF7880>)
2026-02-22 20:15:15 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001650DEF7880>) completed
2026-02-22 20:15:15 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001650DEF7880>)
2026-02-22 20:15:15 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001650DEF7880>) completed
2026-02-22 20:15:15 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001650923F880>
2026-02-22 20:15:15 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001650923F880> completed
2026-02-22 20:15:15 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650E00C310>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 20:15:15 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650E00C310>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 20:15:15 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650E00C310>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('146b3985-2402-4760-8254-6f3f6bab379f', 'personal', 'Stack technique', '🛠️', 'Technologies utilisées et préférées', '# Stack technique — Val C.\n\n## Backend\n- Python 3.11+\n- FastAPI (web framework)\n- SQLite + aiosqlite (base de données)\n- Pydantic v2 (validation)\n- Gemini AI (LLM)\n\n## Frontend\n- HTML/CSS/JavaScript vanilla\n- Pas de framework JS (pas de React/Vue/Angular)\n- ES6 modules\n- CSS custom properties (variables)\n- Design sombre (dark theme)\n\n## Mobile\n- Flutter / Dart (en apprentissage)\n\n## Outils\n- Git\n- pytest\n- VS Code / Windsurf\n- Windows\n\n## Hébergement\n- Local uniquement (pas de cloud)\n- localhost:8000 pour le backend', '["tech", "preferences"]', '["JARVIS_Maitre", "CODEUR"]', '2026-02-22T20:15:15.649558', '2026-02-22T20:15:15.649558'))
2026-02-22 20:15:15 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650E00C310>, 'INSERT INTO library_documents \n                (id, category, name, icon, description, content, tags, agents, created_at, updated_at)\n                VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', ('146b3985-2402-4760-8254-6f3f6bab379f', 'personal', 'Stack technique', '🛠️', 'Technologies utilisées et préférées', '# Stack technique — Val C.\n\n## Backend\n- Python 3.11+\n- FastAPI (web framework)\n- SQLite + aiosqlite (base de données)\n- Pydantic v2 (validation)\n- Gemini AI (LLM)\n\n## Frontend\n- HTML/CSS/JavaScript vanilla\n- Pas de framework JS (pas de React/Vue/Angular)\n- ES6 modules\n- CSS custom properties (variables)\n- Design sombre (dark theme)\n\n## Mobile\n- Flutter / Dart (en apprentissage)\n\n## Outils\n- Git\n- pytest\n- VS Code / Windsurf\n- Windows\n\n## Hébergement\n- Local uniquement (pas de cloud)\n- localhost:8000 pour le backend', '["tech", "preferences"]', '["JARVIS_Maitre", "CODEUR"]', '2026-02-22T20:15:15.649558', '2026-02-22T20:15:15.649558')) completed
2026-02-22 20:15:15 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001650E00C310>)
2026-02-22 20:15:15 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x000001650E00C310>) completed
2026-02-22 20:15:15 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001650E00C310>)
2026-02-22 20:15:15 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001650E00C310>) completed
2026-02-22 20:15:15 - backend.db.database - INFO - ✅ Library initialisée avec 13 documents
2026-02-22 20:15:15 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001650DEF7790>)
2026-02-22 20:15:15 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001650DEF7790>) completed
2026-02-22 20:15:28 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001650F047A60>
2026-02-22 20:15:28 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001650F047A60> completed
2026-02-22 20:15:28 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650F00D120>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 20:15:28 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650F00D120>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 20:15:28 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650F00D120>, 'SELECT * FROM library_documents WHERE 1=1 ORDER BY updated_at DESC', [])
2026-02-22 20:15:28 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650F00D120>, 'SELECT * FROM library_documents WHERE 1=1 ORDER BY updated_at DESC', []) completed
2026-02-22 20:15:28 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001650F051CC0>)
2026-02-22 20:15:28 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001650F051CC0>) completed
2026-02-22 20:15:28 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001650F051CC0>)
2026-02-22 20:15:28 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001650F051CC0>) completed
2026-02-22 20:15:28 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001650F00D120>)
2026-02-22 20:15:28 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001650F00D120>) completed
2026-02-22 20:36:47 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x000001650F05C360>
2026-02-22 20:36:47 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x000001650F05C360> completed
2026-02-22 20:36:47 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650F065120>, 'PRAGMA foreign_keys = ON', [])
2026-02-22 20:36:47 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650F065120>, 'PRAGMA foreign_keys = ON', []) completed
2026-02-22 20:36:47 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650F065120>, 'SELECT * FROM library_documents WHERE 1=1 ORDER BY updated_at DESC', [])
2026-02-22 20:36:47 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Connection object at 0x000001650F065120>, 'SELECT * FROM library_documents WHERE 1=1 ORDER BY updated_at DESC', []) completed
2026-02-22 20:36:47 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001650F07B840>)
2026-02-22 20:36:47 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x000001650F07B840>) completed
2026-02-22 20:36:47 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001650F07B840>)
2026-02-22 20:36:47 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x000001650F07B840>) completed
2026-02-22 20:36:47 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x000001650F065120>)
2026-02-22 20:36:47 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x000001650F065120>) completed
